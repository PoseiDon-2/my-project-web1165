(()=>{var e={};e.id=4127,e.ids=[4127],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},96380:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d}),t(14426),t(65),t(26083),t(35866);var a=t(23191),l=t(88716),r=t(37922),i=t.n(r),n=t(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["enhanced-donation",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,14426)),"D:\\testProject\\test-project\\app\\enhanced-donation\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,65)),"D:\\testProject\\test-project\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"D:\\testProject\\test-project\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\testProject\\test-project\\app\\enhanced-donation\\[id]\\page.tsx"],x="/enhanced-donation/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/enhanced-donation/[id]/page",pathname:"/enhanced-donation/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},21611:(e,s,t)=>{Promise.resolve().then(t.bind(t,79250))},79250:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>G});var a=t(10326),l=t(17577),r=t(35047),i=t(71821),n=t(48705),c=t(69152),d=t(86333),o=t(95964),x=t(67427),m=t(76993),h=t(37358),p=t(48998),g=t(30361),u=t(28916),j=t(42887),N=t(92447),y=t(83495),v=t(77636),b=t(94893),f=t(12714),w=t(59593);let k=(0,t(62881).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var Z=t(41291),C=t(24061),z=t(17069),D=t(36283),P=t(83855),S=t(90772),q=t(33071),T=t(567),A=t(60064),$=t(28758),R=t(79210),U=t(26173),O=t(50762),_=t(41908),M=t(79969),Y=t(47538),E=t(42987),H=t(54348),Q=t(43952);let V=[{id:1,title:"เริ่มต้นโครงการ",content:"เราได้เริ่มต้นโครงการช่วยเหลือครอบครัวที่ประสบอุทกภัยแล้ว ขอบคุณทุกท่านที่ให้การสนับสนุน",type:"progress",imageUrl:"/placeholder.svg?height=300&width=400",createdAt:"2024-01-15T10:00:00Z",views:245,likes:32,isViewed:!1},{id:2,title:"ความคืบหน้า 50%",content:"ขณะนี้เราได้รับการสนับสนุนไปแล้ว 50% ของเป้าหมาย ขอบคุณทุกท่านมากครับ",type:"milestone",imageUrl:"/placeholder.svg?height=300&width=400",createdAt:"2024-01-12T14:30:00Z",views:189,likes:28,isViewed:!0}],F={id:1,title:"ช่วยเหลือครอบครัวที่ประสบอุทกภัย",description:"ครอบครัวของเราประสบอุทกภัยใหญ่ที่จังหวัดอุบลราชธานี ทำให้บ้านและข้าวของเสียหายหมด ต้องการความช่วยเหลือเพื่อซ่อมแซมบ้านและซื้อข้าวของใช้จำเป็น",imageUrl:"/placeholder.svg?height=400&width=600",category:"ภัยพิบัติ",organizationType:"ชุมชน",donationTypes:["money","items","volunteer"],goals:{money:{target:5e4,current:23500,supporters:47},items:{description:"เสื้อผ้า อาหารแห้ง น้ำดื่ม อุปกรณ์ทำความสะอาด",received:["เสื้อผ้า 50 ชุด","น้ำดื่ม 100 ขวด","อาหารแห้ง 20 กิโลกรัม"],supporters:23},volunteer:{target:15,current:8,description:"ช่วยงานซ่อมแซมบ้าน ทำความสะอาด จัดของ",supporters:8}},daysLeft:15,address:"อุบลราชธานี",contactPhone:"081-234-5678",organizer:{name:"สมหญิง จัดการ",organization:"ชุมชนบ้านดอนตาล",avatar:"/placeholder.svg?height=100&width=100",verified:!0},createdDate:"2024-01-10",tags:["น้ำท่วม","ครอบครัว","บ้าน"],paymentMethods:{promptpay:"081-234-5678",bankAccount:{bank:"ธนาคารกสิกรไทย",accountNumber:"123-4-56789-0",accountName:"นายสมชาย ใจดี"},truewallet:"081-234-5678"},updates:[{id:1,title:"ได้รับการสนับสนุนแล้ว 50%",content:"ขอบคุณทุกท่านที่ให้การสนับสนุน ตอนนี้เราได้รับเงินบริจาคไปแล้ว 50% ของเป้าหมาย",date:"2024-01-12",images:["/placeholder.svg?height=200&width=300"]},{id:2,title:"เริ่มซ่อมแซมบ้าน",content:"เราได้เริ่มซ่อมแซมบ้านแล้ว คาดว่าจะเสร็จสิ้นภายใน 2 สัปดาห์",date:"2024-01-08",images:["/placeholder.svg?height=200&width=300","/placeholder.svg?height=200&width=300"]}],donationHistory:[{id:1,donor:"คุณสมชาย",amount:1e3,date:"2024-01-15",message:"ขอให้ผ่านพ้นวิกฤตไปด้วยดี",type:"money"},{id:2,donor:"คุณสมหญิง",amount:2e3,date:"2024-01-14",message:"กำลังใจให้ครับ",type:"money"},{id:3,donor:"ผู้บริจาคไม่ประสงค์ออกนาม",amount:5e3,date:"2024-01-13",message:"",type:"money"},{id:4,donor:"คุณวิชัย",items:"เสื้อผ้า 10 ชุด",date:"2024-01-12",message:"ช่วยเหลือเท่าที่ทำได้",type:"items"},{id:5,donor:"คุณมาลี",volunteer:"ช่วยงานทำความสะอาด",date:"2024-01-11",message:"หวังว่าจะช่วยได้",type:"volunteer"}]};function G({id:e}){let s=(0,r.useRouter)(),{user:t}=(0,O.a)(),[G,I]=(0,l.useState)("details"),[L,X]=(0,l.useState)(!1),[B,J]=(0,l.useState)(!1),[K,W]=(0,l.useState)(!1),[ee,es]=(0,l.useState)(!1),[et,ea]=(0,l.useState)(!1),[el,er]=(0,l.useState)(!1),[ei,en]=(0,l.useState)(!1),[ec,ed]=(0,l.useState)(!1),[eo,ex]=(0,l.useState)(null),[em,eh]=(0,l.useState)([]),ep=t?.role==="ORGANIZER",eg=()=>{try{let s=U.X.getReceiptsForRequest(e.toString());eh(s.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()))}catch(e){console.error("Error loading receipts:",e)}},eu=F.goals.money?F.goals.money.current/F.goals.money.target*100:0,ej=F.goals.volunteer?F.goals.volunteer.current/F.goals.volunteer.target*100:0,eN=e=>new Intl.NumberFormat("th-TH").format(e),ey=e=>new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),ev=e=>{let s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/36e5);if(a<1)return"เมื่อสักครู่";if(a<24)return`${a} ชั่วโมงที่แล้ว`;let l=Math.floor(a/24);return l<7?`${l} วันที่แล้ว`:ey(e)},eb=e=>({progress:"bg-blue-100 text-blue-700",milestone:"bg-green-100 text-green-700",thanks:"bg-pink-100 text-pink-700",completed:"bg-purple-100 text-purple-700"})[e]||"bg-gray-100 text-gray-700",ef=e=>({progress:"ความคืบหน้า",milestone:"เหตุการณ์สำคัญ",thanks:"ขอบคุณ",completed:"เสร็จสิ้น"})[e]||e,ew=e=>({money:i.Z,items:n.Z,volunteer:c.Z})[e]||i.Z,ek=e=>({money:"เงิน",items:"สิ่งของ",volunteer:"อาสาสมัคร"})[e]||e,eZ=e=>({money:"bg-green-100 text-green-700 border-green-200",items:"bg-blue-100 text-blue-700 border-blue-200",volunteer:"bg-purple-100 text-purple-700 border-purple-200"})[e]||"bg-gray-100 text-gray-700 border-gray-200",eC=e=>{ex(e),ed(!0)},ez=(()=>{let e=em.filter(e=>"money"===e.type&&"completed"===e.status).reduce((e,s)=>e+(s.amount||0),0);return{totalAmount:e,totalReceipts:em.length,pendingReceipts:em.filter(e=>"pending"===e.status).length,completedReceipts:em.filter(e=>"completed"===e.status).length}})(),eD=V.filter(e=>!e.isViewed),eP=ee?V:V.slice(0,3);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(S.z,{variant:"ghost",size:"sm",onClick:()=>s.back(),className:"hover:bg-pink-50",children:[a.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"กลับ"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[ep&&(0,a.jsxs)(S.z,{variant:"outline",size:"sm",onClick:()=>en(!0),className:"hover:bg-green-50 text-green-700 border-green-200",children:[a.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"อัปโหลดสลิป"]}),a.jsx(S.z,{variant:"ghost",size:"sm",onClick:()=>X(!L),className:`hover:bg-pink-50 ${L?"text-pink-600":"text-gray-600"}`,children:a.jsx(x.Z,{className:`w-4 h-4 ${L?"fill-current":""}`})}),a.jsx(S.z,{variant:"ghost",size:"sm",onClick:()=>J(!0),className:"hover:bg-pink-50",children:a.jsx(m.Z,{className:"w-4 h-4"})})]})]})})}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,a.jsxs)(q.Zb,{className:"mb-6 overflow-hidden",children:[(0,a.jsxs)("div",{className:"aspect-video relative",children:[a.jsx("img",{src:F.imageUrl||"/placeholder.svg",alt:F.title,className:"w-full h-full object-cover"}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[a.jsx(T.C,{className:"bg-white/90 text-gray-800 hover:bg-white",children:F.category}),a.jsx(T.C,{variant:"outline",className:"bg-white/90 text-gray-800 hover:bg-white",children:F.organizationType})]})]}),a.jsx(q.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:F.title}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(h.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["สร้างเมื่อ ",ey(F.createdDate)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(p.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["เหลือ ",F.daysLeft," วัน"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-gray-800",children:"ประเภทการบริจาค"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:F.donationTypes.map(e=>{let s=ew(e);return(0,a.jsxs)(T.C,{className:`${eZ(e)} border`,children:[a.jsx(s,{className:"w-3 h-3 mr-1"}),ek(e)]},e)})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[F.goals.money&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(i.Z,{className:"w-5 h-5 text-green-600"}),a.jsx("h4",{className:"font-medium text-green-800",children:"เป้าหมายเงิน"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["฿",eN(F.goals.money.current)]}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["เป้าหมาย ฿",eN(F.goals.money.target)]})]}),a.jsx(A.E,{value:eu,className:"h-3"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[Math.round(eu),"% ของเป้าหมาย"]}),(0,a.jsxs)("span",{children:[F.goals.money.supporters," ผู้สนับสนุน"]})]})]}),F.goals.items&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(n.Z,{className:"w-5 h-5 text-blue-600"}),a.jsx("h4",{className:"font-medium text-blue-800",children:"สิ่งของที่ต้องการ"})]}),a.jsx("p",{className:"text-sm text-gray-700",children:F.goals.items.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h5",{className:"text-sm font-medium text-blue-800",children:"ได้รับแล้ว:"}),a.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:F.goals.items.received.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"w-4 h-4 text-green-500"}),e]},s))})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[F.goals.items.supporters," ผู้บริจาคสิ่งของ"]})]}),F.goals.volunteer&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-5 h-5 text-purple-600"}),a.jsx("h4",{className:"font-medium text-purple-800",children:"อาสาสมัคร"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-purple-600",children:[F.goals.volunteer.current," คน"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["เป้าหมาย ",F.goals.volunteer.target," คน"]})]}),a.jsx(A.E,{value:ej,className:"h-3"}),a.jsx("p",{className:"text-sm text-gray-700",children:F.goals.volunteer.description}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.round(ej),"% ของเป้าหมาย"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)($.qE,{className:"w-12 h-12",children:[a.jsx($.F$,{src:F.organizer.avatar||"/placeholder.svg"}),a.jsx($.Q5,{children:F.organizer.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-800",children:F.organizer.name}),F.organizer.verified&&a.jsx(g.Z,{className:"w-4 h-4 text-green-500"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:F.organizer.organization})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[F.donationTypes.includes("money")&&(0,a.jsxs)(S.z,{className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600",onClick:()=>W(!0),children:[a.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"บริจาคเงิน"]}),F.donationTypes.includes("items")&&(0,a.jsxs)(S.z,{className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600",onClick:()=>ea(!0),children:[a.jsx(n.Z,{className:"w-4 h-4 mr-2"}),"บริจาคสิ่งของ"]}),F.donationTypes.includes("volunteer")&&(0,a.jsxs)(S.z,{variant:"outline",className:"bg-transparent",onClick:()=>er(!0),children:[a.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"สมัครอาสาสมัคร"]}),!F.donationTypes.includes("money")&&!F.donationTypes.includes("items")&&!F.donationTypes.includes("volunteer")&&(0,a.jsxs)(S.z,{variant:"outline",className:"bg-transparent col-span-2",children:[a.jsx(j.Z,{className:"w-4 h-4 mr-2"}),"ติดต่อผู้จัดการ"]})]}),F.donationTypes.includes("money")&&(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg",children:[(0,a.jsxs)(S.z,{variant:"outline",size:"sm",className:"flex flex-col gap-1 h-auto py-3 bg-transparent",onClick:()=>W(!0),children:[a.jsx(N.Z,{className:"w-6 h-6 text-blue-600"}),a.jsx("span",{className:"text-xs",children:"QR Code"})]}),(0,a.jsxs)(S.z,{variant:"outline",size:"sm",className:"flex flex-col gap-1 h-auto py-3 bg-transparent",onClick:()=>W(!0),children:[a.jsx(y.Z,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-xs",children:"PromptPay"})]}),(0,a.jsxs)(S.z,{variant:"outline",size:"sm",className:"flex flex-col gap-1 h-auto py-3 bg-transparent",onClick:()=>W(!0),children:[a.jsx(u.Z,{className:"w-6 h-6 text-purple-600"}),a.jsx("span",{className:"text-xs",children:"บัตรเครดิต"})]})]})]})})]}),(0,a.jsxs)(R.mQ,{value:G,onValueChange:I,className:"space-y-6",children:[(0,a.jsxs)(R.dr,{className:`grid w-full ${ep?"grid-cols-4":"grid-cols-3"} bg-white`,children:[a.jsx(R.SP,{value:"details",children:"รายละเอียด"}),a.jsx(R.SP,{value:"history",children:"ประวัติการบริจาค"}),a.jsx(R.SP,{value:"updates",children:"อัปเดตจากผู้รับบริจาค"}),ep&&(0,a.jsxs)(R.SP,{value:"receipts",className:"relative",children:["สลิปการรับเงิน",ez.pendingReceipts>0&&a.jsx(T.C,{className:"ml-2 bg-red-500 text-white text-xs px-1 min-w-[20px] h-5",children:ez.pendingReceipts})]})]}),(0,a.jsxs)(R.nU,{value:"details",className:"space-y-6",children:[(0,a.jsxs)(q.Zb,{children:[a.jsx(q.Ol,{children:a.jsx(q.ll,{children:"รายละเอียด"})}),(0,a.jsxs)(q.aY,{children:[a.jsx("p",{className:"text-gray-700 leading-relaxed",children:F.description}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:F.tags.map(e=>(0,a.jsxs)(T.C,{variant:"secondary",className:"bg-pink-100 text-pink-700",children:["#",e]},e))})]})]}),(0,a.jsxs)(q.Zb,{children:[a.jsx(q.Ol,{children:(0,a.jsxs)(q.ll,{className:"flex items-center gap-2",children:[a.jsx(v.Z,{className:"w-5 h-5 text-pink-500"}),"ที่ตั้งและการติดต่อ"]})}),(0,a.jsxs)(q.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(v.Z,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:F.address})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(j.Z,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:F.contactPhone})]})]})]}),(0,a.jsxs)(q.Zb,{children:[a.jsx(q.Ol,{children:(0,a.jsxs)(q.ll,{className:"flex items-center gap-2",children:["\uD83D\uDCD6 Stories ความคืบหน้า",eD.length>0&&(0,a.jsxs)(T.C,{className:"bg-pink-500 text-white text-xs",children:[eD.length," ใหม่"]})]})}),(0,a.jsxs)(q.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)($.qE,{className:"w-16 h-16 ring-2 ring-pink-300",children:[a.jsx($.F$,{src:F.organizer.avatar||"/placeholder.svg"}),a.jsx($.Q5,{children:F.organizer.name.charAt(0)})]}),eD.length>0&&a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white font-bold",children:eD.length})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:F.organizer.name}),a.jsx("p",{className:"text-sm text-gray-600",children:eD.length>0?`มี Stories ใหม่ ${eD.length} เรื่อง`:"ดู Stories ทั้งหมด"})]}),(0,a.jsxs)(S.z,{size:"sm",className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600",onClick:()=>s.push(`/stories?donation=${F.id}`),children:[a.jsx(b.Z,{className:"w-4 h-4 mr-1"}),"ดู Stories"]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>s.push(`/stories?donation=${F.id}&story=${e.id}`),children:[e.imageUrl?a.jsx("img",{src:e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-purple-100",children:a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCD6"})}),!e.isViewed&&a.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-pink-500 rounded-full"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:a.jsx(T.C,{className:`${eb(e.type)} text-xs`,children:ef(e.type)})})]},e.id))}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("h5",{className:"font-medium text-gray-800",children:"Stories ล่าสุด"}),eP.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-white rounded-lg border hover:shadow-sm transition-shadow cursor-pointer",onClick:()=>s.push(`/stories?donation=${F.id}&story=${e.id}`),children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex-shrink-0 flex items-center justify-center",children:e.imageUrl?a.jsx("img",{src:e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover rounded-lg"}):a.jsx("span",{className:"text-lg",children:"\uD83D\uDCD6"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h6",{className:"font-medium text-gray-800 truncate",children:e.title}),a.jsx(T.C,{className:`${eb(e.type)} text-xs flex-shrink-0`,children:ef(e.type)}),!e.isViewed&&a.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full flex-shrink-0"})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[a.jsx("span",{children:ev(e.createdAt)}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(f.Z,{className:"w-3 h-3"}),a.jsx("span",{children:e.views})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(w.Z,{className:"w-3 h-3"}),a.jsx("span",{children:e.likes})]})]})]})]},e.id))]}),V.length>3&&a.jsx(S.z,{variant:"outline",className:"w-full bg-transparent",onClick:()=>es(!ee),children:ee?"แสดงน้อยลง":`ดู Stories ทั้งหมด (${V.length})`}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-gray-800",children:V.length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Stories ทั้งหมด"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-gray-800",children:V.reduce((e,s)=>e+s.views,0)}),a.jsx("div",{className:"text-xs text-gray-600",children:"การดูรวม"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-gray-800",children:V.reduce((e,s)=>e+s.likes,0)}),a.jsx("div",{className:"text-xs text-gray-600",children:"ถูกใจรวม"})]})]})]})]}),F.donationTypes.includes("money")&&(0,a.jsxs)(q.Zb,{children:[a.jsx(q.Ol,{children:(0,a.jsxs)(q.ll,{className:"flex items-center gap-2",children:[a.jsx(k,{className:"w-5 h-5 text-green-500"}),"วิธีการบริจาค"]})}),(0,a.jsxs)(q.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:"การบริจาคออนไลน์"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx(S.z,{variant:"outline",className:"justify-start h-auto p-4 bg-transparent",onClick:()=>W(!0),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(N.Z,{className:"w-8 h-8 text-blue-600"}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"QR Code PromptPay"}),a.jsx("div",{className:"text-sm text-gray-600",children:"สแกน QR Code เพื่อบริจาค"})]})]})}),a.jsx(S.z,{variant:"outline",className:"justify-start h-auto p-4 bg-transparent",onClick:()=>W(!0),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(u.Z,{className:"w-8 h-8 text-purple-600"}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"บัตรเครดิต/เดบิต"}),a.jsx("div",{className:"text-sm text-gray-600",children:"ชำระผ่านบัตรเครดิตหรือเดบิต"})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:"โอนเงินผ่านธนาคาร"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"ธนาคาร"}),a.jsx("p",{className:"font-medium text-gray-800",children:F.paymentMethods.bankAccount.bank})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"เลขที่บัญชี"}),a.jsx("p",{className:"font-medium text-gray-800",children:F.paymentMethods.bankAccount.accountNumber})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"ชื่อบัญชี"}),a.jsx("p",{className:"font-medium text-gray-800",children:F.paymentMethods.bankAccount.accountName})]})]}),a.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[a.jsx(Z.Z,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-yellow-800",children:[a.jsx("p",{className:"font-medium mb-1",children:"คำแนะนำการบริจาค"}),(0,a.jsxs)("ul",{className:"space-y-1 text-xs",children:[a.jsx("li",{children:"• เลือกวิธีการบริจาคที่สะดวกสำหรับคุณ"}),a.jsx("li",{children:"• การบริจาคออนไลน์จะได้รับการยืนยันทันที"}),a.jsx("li",{children:"• เก็บหลักฐานการบริจาคไว้เป็นหลักฐาน"})]})]})]})})]})]})]}),a.jsx(R.nU,{value:"history",className:"space-y-6",children:(0,a.jsxs)(q.Zb,{children:[a.jsx(q.Ol,{children:(0,a.jsxs)(q.ll,{className:"flex items-center gap-2",children:[a.jsx(C.Z,{className:"w-5 h-5 text-blue-500"}),"ประวัติการบริจาค (",F.donationHistory.length,")"]})}),a.jsx(q.aY,{children:a.jsx("div",{className:"space-y-4",children:F.donationHistory.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx($.qE,{className:"w-10 h-10",children:a.jsx($.Q5,{children:e.donor.charAt(0)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-gray-800",children:e.donor}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["money"===e.type&&e.amount&&(0,a.jsxs)("span",{className:"font-bold text-green-600",children:["฿",eN(e.amount)]}),"items"===e.type&&e.items&&a.jsx("span",{className:"font-bold text-blue-600",children:e.items}),"volunteer"===e.type&&e.volunteer&&a.jsx("span",{className:"font-bold text-purple-600",children:e.volunteer}),a.jsx(T.C,{className:eZ(e.type),children:ek(e.type)})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:ey(e.date)}),e.message&&(0,a.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',e.message,'"']})]})]},e.id))})})]})}),a.jsx(R.nU,{value:"updates",className:"space-y-6",children:F.updates.map(e=>(0,a.jsxs)(q.Zb,{children:[a.jsx(q.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(q.ll,{className:"text-lg",children:e.title}),a.jsx("span",{className:"text-sm text-gray-500",children:ey(e.date)})]})}),(0,a.jsxs)(q.aY,{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:e.content}),e.images&&e.images.length>0&&a.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.images.map((s,t)=>a.jsx("img",{src:s||"/placeholder.svg",alt:`Update ${e.id} - ${t+1}`,className:"w-full h-48 object-cover rounded-lg"},t))})]})]},e.id))}),ep&&(0,a.jsxs)(R.nU,{value:"receipts",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(q.Zb,{children:(0,a.jsxs)(q.aY,{className:"p-4 text-center",children:[a.jsx(z.Z,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["฿",new Intl.NumberFormat("th-TH").format(ez.totalAmount)]}),a.jsx("p",{className:"text-xs text-gray-600",children:"ยอดรวมที่ได้รับ"})]})}),a.jsx(q.Zb,{children:(0,a.jsxs)(q.aY,{className:"p-4 text-center",children:[a.jsx(D.Z,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:ez.totalReceipts}),a.jsx("p",{className:"text-xs text-gray-600",children:"สลิปทั้งหมด"})]})}),a.jsx(q.Zb,{children:(0,a.jsxs)(q.aY,{className:"p-4 text-center",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"⏳"}),a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:ez.pendingReceipts}),a.jsx("p",{className:"text-xs text-gray-600",children:"รอดำเนินการ"})]})}),a.jsx(q.Zb,{children:(0,a.jsxs)(q.aY,{className:"p-4 text-center",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"✅"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:ez.completedReceipts}),a.jsx("p",{className:"text-xs text-gray-600",children:"เสร็จสิ้น"})]})})]}),a.jsx(q.Zb,{children:(0,a.jsxs)(q.aY,{className:"p-6 text-center",children:[a.jsx(o.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"จัดการสลิปการรับเงิน"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"อัปโหลดและจัดการสลิปการรับเงินบริจาคเพื่อความโปร่งใสและการติดตาม"}),(0,a.jsxs)(S.z,{onClick:()=>en(!0),className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600",children:[a.jsx(P.Z,{className:"w-4 h-4 mr-2"}),"อัปโหลดสลิปใหม่"]})]})}),em.length>0&&(0,a.jsxs)(q.Zb,{children:[a.jsx(q.Ol,{children:(0,a.jsxs)(q.ll,{className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"w-5 h-5 text-green-500"}),"สลิปล่าสุด (",em.length,")"]})}),(0,a.jsxs)(q.aY,{children:[a.jsx("div",{className:"space-y-3",children:em.slice(0,5).map(e=>{let s=U.X.generateReceiptSummary(e);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:shadow-sm transition-shadow cursor-pointer",onClick:()=>eC(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:"money"===e.type?"\uD83D\uDCB0":"items"===e.type?"\uD83D\uDCE6":"\uD83D\uDC65"}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.receiptNumber}),a.jsx("p",{className:"text-sm text-gray-600",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("th-TH")})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:s.amount}),a.jsx(T.C,{className:`${s.statusColor} border text-xs`,children:s.status})]})]},e.id)})}),em.length>5&&a.jsx("div",{className:"text-center mt-4",children:(0,a.jsxs)(S.z,{variant:"outline",onClick:()=>s.push(`/organizer-dashboard?tab=receipts&request=${e}`),children:["ดูสลิปทั้งหมด (",em.length,")"]})})]})]})]})]})]}),a.jsx(_.Z,{isOpen:B,onClose:()=>J(!1),donation:{id:F.id.toString(),title:F.title,description:F.description,imageUrl:F.imageUrl,currentAmount:F.goals.money?.current||0,goalAmount:F.goals.money?.target||0,supporters:F.goals.money?.supporters||0,organizer:F.organizer.name}}),a.jsx(M.Z,{isOpen:K,onClose:()=>W(!1),donation:{id:F.id.toString(),title:F.title,paymentMethods:F.paymentMethods}}),a.jsx(Y.Z,{isOpen:et,onClose:()=>ea(!1),donation:{id:F.id,title:F.title,itemsNeeded:F.goals.items?.description||"",contactPhone:F.contactPhone,address:F.address}}),a.jsx(E.Z,{isOpen:el,onClose:()=>er(!1),donation:{id:F.id,title:F.title,volunteerDescription:F.goals.volunteer?.description||"",contactPhone:F.contactPhone,address:F.address}}),a.jsx(H.Z,{isOpen:ei,onClose:()=>en(!1),requestId:F.id.toString(),requestTitle:F.title,onUploadComplete:()=>{eg()}}),a.jsx(Q.Z,{receipt:eo,isOpen:ec,onClose:()=>{ed(!1),ex(null)}})]})}},14426:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`D:\testProject\test-project\app\enhanced-donation\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,2480,8270,6536,1216,9553,3177,5928,4462,5256,8346,2640],()=>t(96380));module.exports=a})();