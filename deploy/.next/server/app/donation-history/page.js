(()=>{var e={};e.id=7207,e.ids=[7207],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98590:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(15204),s(39992),s(65),s(26083),s(35866);var a=s(23191),r=s(88716),l=s(37922),n=s.n(l),i=s(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["donation-history",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,15204)),"D:\\testProject\\test-project\\app\\donation-history\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,39992)),"D:\\testProject\\test-project\\app\\donation-history\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,65)),"D:\\testProject\\test-project\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"D:\\testProject\\test-project\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\testProject\\test-project\\app\\donation-history\\page.tsx"],x="/donation-history/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/donation-history/page",pathname:"/donation-history",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},34113:(e,t,s)=>{Promise.resolve().then(s.bind(s,73))},91893:(e,t,s)=>{Promise.resolve().then(s.bind(s,13942))},73:(e,t,s)=>{"use strict";function a(){return null}s.r(t),s.d(t,{default:()=>a})},13942:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var a=s(10326),r=s(17577),l=s(26173),n=s(50762),i=s(33071),c=s(90772),o=s(54432),d=s(34474),x=s(567),u=s(60064),m=s(28916),h=s(48705),p=s(24061),f=s(12714);function j({history:e,onViewDetails:t}){let s=Math.min(e.totalAmount/1e5*100,100);return(0,a.jsxs)(i.Zb,{className:"hover:shadow-md transition-shadow",children:[a.jsx(i.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(i.ll,{className:"text-lg line-clamp-2 mb-2",children:e.requestTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["โดย ",e.organizerName||"ไม่ระบุ"]}),a.jsx("span",{children:"•"}),(0,a.jsxs)("span",{children:["อัปเดต ",new Date(e.updatedAt).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})]})]})]}),a.jsx(x.C,{className:`${(e=>{switch(e){case"active":return"bg-green-50 text-green-700 border-green-200";case"completed":return"bg-blue-50 text-blue-700 border-blue-200";case"cancelled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})(e.status)} border`,children:(e=>{switch(e){case"active":return"กำลังรับบริจาค";case"completed":return"เสร็จสิ้น";case"cancelled":return"ยกเลิก";default:return"ไม่ทราบสถานะ"}})(e.status)})]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"ความคืบหน้า"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.toFixed(1),"%"]})]}),a.jsx(u.E,{value:s,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["฿",new Intl.NumberFormat("th-TH").format(e.totalAmount)]}),(0,a.jsxs)("span",{children:["เป้าหมาย ฿",new Intl.NumberFormat("th-TH").format(1e5)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(m.Z,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:e.totalDonations})]}),a.jsx("p",{className:"text-xs text-gray-600",children:"การบริจาค"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(h.Z,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:e.totalItems})]}),a.jsx("p",{className:"text-xs text-gray-600",children:"สิ่งของ"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[a.jsx(p.Z,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:e.totalVolunteers})]}),a.jsx("p",{className:"text-xs text-gray-600",children:"อาสาสมัคร"})]})]}),e.recentDonations.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"การบริจาคล่าสุด"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.recentDonations.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["money"===e.type&&a.jsx(m.Z,{className:"w-3 h-3 text-green-600"}),"items"===e.type&&a.jsx(h.Z,{className:"w-3 h-3 text-blue-600"}),"volunteer"===e.type&&a.jsx(p.Z,{className:"w-3 h-3 text-purple-600"}),a.jsx("span",{className:"text-gray-600",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"})]}),(0,a.jsxs)("div",{className:"text-right",children:["money"===e.type&&(0,a.jsxs)("span",{className:"font-medium text-green-600",children:["฿",new Intl.NumberFormat("th-TH").format(e.amount||0)]}),"items"===e.type&&(0,a.jsxs)("span",{className:"font-medium text-blue-600",children:[e.items?.length||1," รายการ"]}),"volunteer"===e.type&&(0,a.jsxs)("span",{className:"font-medium text-purple-600",children:[e.volunteerHours||0," ชม."]})]})]},e.id)),e.recentDonations.length>3&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["และอีก ",e.recentDonations.length-3," รายการ"]})]})]}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full bg-transparent",onClick:()=>t(e),children:[a.jsx(f.Z,{className:"w-4 h-4 mr-2"}),"ดูรายละเอียดทั้งหมด"]})]})]})}var g=s(62288),v=s(79210),y=s(37358),N=s(17069),b=s(31540);function w({history:e,isOpen:t,onClose:s}){if(!e)return null;let r=e=>new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),n=e=>{switch(e){case"money":return a.jsx(m.Z,{className:"w-4 h-4 text-green-600"});case"items":return a.jsx(h.Z,{className:"w-4 h-4 text-blue-600"});case"volunteer":return a.jsx(p.Z,{className:"w-4 h-4 text-purple-600"})}},i=e=>l.X.generateReceiptSummary(e),o=Math.min(e.totalAmount/1e5*100,100),d=e.recentDonations.filter(e=>"money"===e.type),f=e.recentDonations.filter(e=>"items"===e.type),j=e.recentDonations.filter(e=>"volunteer"===e.type);return a.jsx(g.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(g.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(g.fK,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx(g.$N,{className:"text-xl mb-2",children:e.requestTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(y.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["สร้างเมื่อ ",r(e.createdAt)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(N.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["อัปเดตล่าสุด ",r(e.updatedAt)]})]})]})]}),a.jsx(x.C,{className:`${(e=>{switch(e){case"active":return"bg-green-50 text-green-700 border-green-200";case"completed":return"bg-blue-50 text-blue-700 border-blue-200";case"cancelled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})(e.status)} border`,children:(e=>{switch(e){case"active":return"กำลังรับบริจาค";case"completed":return"เสร็จสิ้น";case"cancelled":return"ยกเลิก";default:return"ไม่ทราบสถานะ"}})(e.status)})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"ความคืบหน้าโครงการ"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[o.toFixed(1),"%"]})]}),a.jsx(u.E,{value:o,className:"h-3 mb-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["ได้รับแล้ว ฿",new Intl.NumberFormat("th-TH").format(e.totalAmount)]}),(0,a.jsxs)("span",{children:["เป้าหมาย ฿",new Intl.NumberFormat("th-TH").format(1e5)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[a.jsx(m.Z,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.totalDonations}),a.jsx("p",{className:"text-sm text-green-700",children:"การบริจาคเงิน"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[a.jsx(h.Z,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.totalItems}),a.jsx("p",{className:"text-sm text-blue-700",children:"สิ่งของ"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[a.jsx(p.Z,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.totalVolunteers}),a.jsx("p",{className:"text-sm text-purple-700",children:"อาสาสมัคร"})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[a.jsx("span",{className:"text-3xl block mb-2",children:"\uD83D\uDCB0"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-yellow-600",children:["฿",new Intl.NumberFormat("th-TH").format(e.totalAmount)]}),a.jsx("p",{className:"text-sm text-yellow-700",children:"ยอดรวม"})]})]}),(0,a.jsxs)(v.mQ,{defaultValue:"all",className:"w-full",children:[(0,a.jsxs)(v.dr,{className:"grid w-full grid-cols-4",children:[(0,a.jsxs)(v.SP,{value:"all",children:["ทั้งหมด (",e.recentDonations.length,")"]}),(0,a.jsxs)(v.SP,{value:"money",children:["เงิน (",d.length,")"]}),(0,a.jsxs)(v.SP,{value:"items",children:["สิ่งของ (",f.length,")"]}),(0,a.jsxs)(v.SP,{value:"volunteer",children:["อาสาสมัคร (",j.length,")"]})]}),a.jsx(v.nU,{value:"all",className:"space-y-3",children:0===e.recentDonations.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการบริจาค"}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.recentDonations.map(e=>{let t=i(e);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[n(e.type),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),a.jsx("p",{className:"text-xs text-gray-600",children:r(e.createdAt)})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-sm",children:t.amount}),a.jsx(x.C,{className:`${t.statusColor} border-0 text-xs`,children:t.status})]})]},e.id)})})}),a.jsx(v.nU,{value:"money",className:"space-y-3",children:0===d.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการบริจาคเงิน"}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(m.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.paymentMethod," • ",r(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-bold text-green-600",children:["฿",new Intl.NumberFormat("th-TH").format(e.amount||0)]}),(0,a.jsxs)("p",{className:"text-xs text-green-600",children:["+",e.pointsEarned," คะแนน"]})]})]},e.id))})}),a.jsx(v.nU,{value:"items",className:"space-y-3",children:0===f.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการบริจาคสิ่งของ"}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(h.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["send-to-address"===e.deliveryMethod?"ส่งตามที่อยู่":"นำไปส่งถึงที่"," •"," ",r(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-blue-600",children:[e.items?.length||1," รายการ"]}),(0,a.jsxs)("p",{className:"text-xs text-blue-600",children:["+",e.pointsEarned," คะแนน"]})]})]},e.id))})}),a.jsx(v.nU,{value:"volunteer",className:"space-y-3",children:0===j.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการสมัครอาสาสมัคร"}):a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:j.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(p.Z,{className:"w-4 h-4 text-purple-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.volunteerSkills?.join(", ")||"ไม่ระบุทักษะ"," • ",r(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-purple-600",children:[e.volunteerHours||0," ชั่วโมง"]}),(0,a.jsxs)("p",{className:"text-xs text-purple-600",children:["+",e.pointsEarned," คะแนน"]})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,a.jsxs)(c.z,{onClick:()=>{alert("ฟีเจอร์ดาวน์โหลดรายงานจะเปิดใช้งานเร็วๆ นี้")},className:"flex-1",children:[a.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"ดาวน์โหลดรายงาน"]}),a.jsx(c.z,{variant:"outline",onClick:s,children:"ปิด"})]})]})]})})}var k=s(86333),D=s(26754),Z=s(41137),P=s(88307),C=s(35047);function A(){let[e,t]=(0,r.useState)([]),[s,x]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(""),[v,y]=(0,r.useState)("all"),[b,A]=(0,r.useState)("updated"),[M,V]=(0,r.useState)(!0),{user:I}=(0,n.a)(),F=(0,C.useRouter)(),R=e=>{m(e),p(!0)},T=(()=>{let t=e.reduce((e,t)=>e+t.totalAmount,0),s=e.reduce((e,t)=>e+t.totalDonations,0),a=e.reduce((e,t)=>e+t.totalItems,0);return{totalAmount:t,totalDonations:s,totalItems:a,totalVolunteers:e.reduce((e,t)=>e+t.totalVolunteers,0),activeProjects:e.filter(e=>"active"===e.status).length,completedProjects:e.filter(e=>"completed"===e.status).length,totalProjects:e.length}})();return a.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)(c.z,{variant:"ghost",onClick:()=>F.back(),children:[a.jsx(k.Z,{className:"w-4 h-4 mr-2"}),"กลับ"]}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ประวัติการรับบริจาค"}),a.jsx("p",{className:"text-gray-600",children:"ติดตามความคืบหน้าและสถิติการรับบริจาคของโครงการต่างๆ"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-4 text-center",children:[a.jsx(D.Z,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:T.totalProjects}),a.jsx("p",{className:"text-xs text-gray-600",children:"โครงการทั้งหมด"})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-4 text-center",children:[a.jsx(N.Z,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:T.activeProjects}),a.jsx("p",{className:"text-xs text-gray-600",children:"กำลังดำเนินการ"})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-4 text-center",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83D\uDCB0"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-yellow-600",children:["฿",new Intl.NumberFormat("th-TH").format(T.totalAmount)]}),a.jsx("p",{className:"text-xs text-gray-600",children:"ยอดรวมทั้งหมด"})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-4 text-center",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83C\uDF81"}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:T.totalDonations}),a.jsx("p",{className:"text-xs text-gray-600",children:"การบริจาคทั้งหมด"})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-4 text-center",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83D\uDCE6"}),a.jsx("p",{className:"text-xl font-bold text-purple-600",children:T.totalItems}),a.jsx("p",{className:"text-xs text-gray-600",children:"สิ่งของ"})]})}),a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-4 text-center",children:[a.jsx("span",{className:"text-2xl block mb-2",children:"\uD83D\uDC65"}),a.jsx("p",{className:"text-xl font-bold text-orange-600",children:T.totalVolunteers}),a.jsx("p",{className:"text-xs text-gray-600",children:"อาสาสมัคร"})]})})]}),(0,a.jsxs)(i.Zb,{className:"mb-6",children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(Z.Z,{className:"w-5 h-5"}),"ค้นหาและกรองข้อมูล"]})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(P.Z,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx(o.I,{placeholder:"ค้นหาโครงการหรือผู้จัด...",value:f,onChange:e=>g(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(d.Ph,{value:v,onValueChange:y,children:[a.jsx(d.i4,{children:a.jsx(d.ki,{placeholder:"สถานะโครงการ"})}),(0,a.jsxs)(d.Bw,{children:[a.jsx(d.Ql,{value:"all",children:"ทั้งหมด"}),a.jsx(d.Ql,{value:"active",children:"กำลังรับบริจาค"}),a.jsx(d.Ql,{value:"completed",children:"เสร็จสิ้น"}),a.jsx(d.Ql,{value:"cancelled",children:"ยกเลิก"})]})]}),(0,a.jsxs)(d.Ph,{value:b,onValueChange:A,children:[a.jsx(d.i4,{children:a.jsx(d.ki,{placeholder:"เรียงตาม"})}),(0,a.jsxs)(d.Bw,{children:[a.jsx(d.Ql,{value:"updated",children:"อัปเดตล่าสุด"}),a.jsx(d.Ql,{value:"created",children:"วันที่สร้าง"}),a.jsx(d.Ql,{value:"amount",children:"ยอดเงิน"}),a.jsx(d.Ql,{value:"donations",children:"จำนวนการบริจาค"})]})]}),a.jsx(c.z,{variant:"outline",onClick:()=>{V(!0);try{let e=l.X.getAllDonationHistories();t(e)}catch(e){console.error("Error loading donation histories:",e)}finally{V(!1)}},children:"รีเฟรช"})]})})]}),M?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"กำลังโหลดประวัติการรับบริจาค..."})]}):0===s.length?a.jsx(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"p-12 text-center",children:[a.jsx(D.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ไม่พบประวัติการรับบริจาค"}),a.jsx("p",{className:"text-gray-600",children:0===e.length?"ยังไม่มีโครงการที่ได้รับการบริจาค":"ไม่พบโครงการที่ตรงกับเงื่อนไขการค้นหา"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>a.jsx(j,{history:e,onViewDetails:R},e.id))}),a.jsx(w,{history:u,isOpen:h,onClose:()=>{p(!1),m(null)}})]})})}},62288:(e,t,s)=>{"use strict";s.d(t,{$N:()=>h,Be:()=>p,Vq:()=>c,cN:()=>m,cZ:()=>x,fK:()=>u});var a=s(10326),r=s(17577),l=s(98958),n=s(94019),i=s(77863);let c=l.fC;l.xz;let o=l.h_;l.x8;let d=r.forwardRef(({className:e,...t},s)=>a.jsx(l.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d.displayName=l.aV.displayName;let x=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(o,{children:[a.jsx(d,{}),(0,a.jsxs)(l.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=l.VY.displayName;let u=({className:e,...t})=>a.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});u.displayName="DialogHeader";let m=({className:e,...t})=>a.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let h=r.forwardRef(({className:e,...t},s)=>a.jsx(l.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=l.Dx.displayName;let p=r.forwardRef(({className:e,...t},s)=>a.jsx(l.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));p.displayName=l.dk.displayName},60064:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(10326),r=s(17577),l=s(87273),n=s(77863);let i=r.forwardRef(({className:e,value:t,...s},r)=>a.jsx(l.fC,{ref:r,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:a.jsx(l.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));i.displayName=l.fC.displayName},79210:(e,t,s)=>{"use strict";s.d(t,{SP:()=>o,dr:()=>c,mQ:()=>i,nU:()=>d});var a=s(10326),r=s(17577),l=s(85408),n=s(77863);let i=l.fC,c=r.forwardRef(({className:e,...t},s)=>a.jsx(l.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));c.displayName=l.aV.displayName;let o=r.forwardRef(({className:e,...t},s)=>a.jsx(l.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));o.displayName=l.xz.displayName;let d=r.forwardRef(({className:e,...t},s)=>a.jsx(l.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=l.VY.displayName},37358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},26754:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},28916:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},31540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},48705:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},39992:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\testProject\test-project\app\donation-history\loading.tsx#default`)},15204:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\testProject\test-project\app\donation-history\page.tsx#default`)},87273:(e,t,s)=>{"use strict";s.d(t,{fC:()=>y,z$:()=>N});var a=s(17577),r=s(93095),l=s(45226),n=s(10326),i="Progress",[c,o]=(0,r.b)(i),[d,x]=c(i),u=a.forwardRef((e,t)=>{var s,a;let{__scopeProgress:r,value:i=null,max:c,getValueLabel:o=p,...x}=e;(c||0===c)&&!g(c)&&console.error((s=`${c}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=g(c)?c:100;null===i||v(i,u)||console.error((a=`${i}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=v(i,u)?i:null,h=j(m)?o(m,u):void 0;return(0,n.jsx)(d,{scope:r,value:m,max:u,children:(0,n.jsx)(l.WV.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":j(m)?m:void 0,"aria-valuetext":h,role:"progressbar","data-state":f(m,u),"data-value":m??void 0,"data-max":u,...x,ref:t})})});u.displayName=i;var m="ProgressIndicator",h=a.forwardRef((e,t)=>{let{__scopeProgress:s,...a}=e,r=x(m,s);return(0,n.jsx)(l.WV.div,{"data-state":f(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...a,ref:t})});function p(e,t){return`${Math.round(e/t*100)}%`}function f(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function j(e){return"number"==typeof e}function g(e){return j(e)&&!isNaN(e)&&e>0}function v(e,t){return j(e)&&!isNaN(e)&&e<=t&&e>=0}h.displayName=m;var y=u,N=h},85408:(e,t,s)=>{"use strict";s.d(t,{VY:()=>G,aV:()=>U,fC:()=>Q,xz:()=>B});var a=s(17577),r=s(82561),l=s(93095),n=s(7747),i=s(48051),c=s(88957),o=s(45226),d=s(55049),x=s(52067),u=s(17124),m=s(10326),h="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[j,g,v]=(0,n.B)(f),[y,N]=(0,l.b)(f,[v]),[b,w]=y(f),k=a.forwardRef((e,t)=>(0,m.jsx)(j.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(j.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(D,{...e,ref:t})})}));k.displayName=f;var D=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,orientation:l,loop:n=!1,dir:c,currentTabStopId:f,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:v,onEntryFocus:y,preventScrollOnEntryFocus:N=!1,...w}=e,k=a.useRef(null),D=(0,i.e)(t,k),Z=(0,u.gm)(c),[P=null,C]=(0,x.T)({prop:f,defaultProp:j,onChange:v}),[M,V]=a.useState(!1),I=(0,d.W)(y),F=g(s),R=a.useRef(!1),[T,q]=a.useState(0);return a.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(h,I),()=>e.removeEventListener(h,I)},[I]),(0,m.jsx)(b,{scope:s,orientation:l,dir:Z,loop:n,currentTabStopId:P,onItemFocus:a.useCallback(e=>C(e),[C]),onItemShiftTab:a.useCallback(()=>V(!0),[]),onFocusableItemAdd:a.useCallback(()=>q(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>q(e=>e-1),[]),children:(0,m.jsx)(o.WV.div,{tabIndex:M||0===T?-1:0,"data-orientation":l,...w,ref:D,style:{outline:"none",...e.style},onMouseDown:(0,r.M)(e.onMouseDown,()=>{R.current=!0}),onFocus:(0,r.M)(e.onFocus,e=>{let t=!R.current;if(e.target===e.currentTarget&&t&&!M){let t=new CustomEvent(h,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=F().filter(e=>e.focusable);A([e.find(e=>e.active),e.find(e=>e.id===P),...e].filter(Boolean).map(e=>e.ref.current),N)}}R.current=!1}),onBlur:(0,r.M)(e.onBlur,()=>V(!1))})})}),Z="RovingFocusGroupItem",P=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,focusable:l=!0,active:n=!1,tabStopId:i,...d}=e,x=(0,c.M)(),u=i||x,h=w(Z,s),p=h.currentTabStopId===u,f=g(s),{onFocusableItemAdd:v,onFocusableItemRemove:y}=h;return a.useEffect(()=>{if(l)return v(),()=>y()},[l,v,y]),(0,m.jsx)(j.ItemSlot,{scope:s,id:u,focusable:l,active:n,children:(0,m.jsx)(o.WV.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...d,ref:t,onMouseDown:(0,r.M)(e.onMouseDown,e=>{l?h.onItemFocus(u):e.preventDefault()}),onFocus:(0,r.M)(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:(0,r.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,s){var a;let r=(a=e.key,"rtl"!==s?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return C[r]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();let a=s.indexOf(e.currentTarget);s=h.loop?function(e,t){return e.map((s,a)=>e[(t+a)%e.length])}(s,a+1):s.slice(a+1)}setTimeout(()=>A(s))}})})})});P.displayName=Z;var C={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e,t=!1){let s=document.activeElement;for(let a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}var M=s(9815),V="Tabs",[I,F]=(0,l.b)(V,[N]),R=N(),[T,q]=I(V),S=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:a,onValueChange:r,defaultValue:l,orientation:n="horizontal",dir:i,activationMode:d="automatic",...h}=e,p=(0,u.gm)(i),[f,j]=(0,x.T)({prop:a,onChange:r,defaultProp:l});return(0,m.jsx)(T,{scope:s,baseId:(0,c.M)(),value:f,onValueChange:j,orientation:n,dir:p,activationMode:d,children:(0,m.jsx)(o.WV.div,{dir:p,"data-orientation":n,...h,ref:t})})});S.displayName=V;var E="TabsList",z=a.forwardRef((e,t)=>{let{__scopeTabs:s,loop:a=!0,...r}=e,l=q(E,s),n=R(s);return(0,m.jsx)(k,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:a,children:(0,m.jsx)(o.WV.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:t})})});z.displayName=E;var _="TabsTrigger",H=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:a,disabled:l=!1,...n}=e,i=q(_,s),c=R(s),d=K(i.baseId,a),x=L(i.baseId,a),u=a===i.value;return(0,m.jsx)(P,{asChild:!0,...c,focusable:!l,active:u,children:(0,m.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":x,"data-state":u?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:d,...n,ref:t,onMouseDown:(0,r.M)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(a)}),onKeyDown:(0,r.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(a)}),onFocus:(0,r.M)(e.onFocus,()=>{let e="manual"!==i.activationMode;u||l||!e||i.onValueChange(a)})})})});H.displayName=_;var $="TabsContent",Y=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,forceMount:l,children:n,...i}=e,c=q($,s),d=K(c.baseId,r),x=L(c.baseId,r),u=r===c.value,h=a.useRef(u);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(M.z,{present:l||u,children:({present:s})=>(0,m.jsx)(o.WV.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!s,id:x,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&n})})});function K(e,t){return`${e}-trigger-${t}`}function L(e,t){return`${e}-content-${t}`}Y.displayName=$;var Q=S,U=z,B=H,G=Y}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9276,2480,8270,6536,1216,9553,5928],()=>s(98590));module.exports=a})();