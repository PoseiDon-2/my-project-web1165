(()=>{var e={};e.id=4195,e.ids=[4195],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},68605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(98728),r(65),r(26083),r(35866);var s=r(23191),a=r(88716),i=r(37922),n=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["rewards",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98728)),"D:\\testProject\\test-project\\app\\rewards\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,65)),"D:\\testProject\\test-project\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"D:\\testProject\\test-project\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\testProject\\test-project\\app\\rewards\\page.tsx"],u="/rewards/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/rewards/page",pathname:"/rewards",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},24815:(e,t,r)=>{Promise.resolve().then(r.bind(r,29780))},29780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s=r(10326),a=r(17577),i=r(33071),n=r(90772),o=r(567),l=r(79210),c=r(62288),d=r(89392),u=r(997),p=r(62881);let m=(0,p.Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var f=r(98908),h=r(13783);let g=(0,p.Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var v=r(8878),x=r(50762),y=r(34789);let w=[{id:"theme_gold",name:"ธีมทอง",description:"เปลี่ยนธีมโปรไฟล์เป็นสีทองหรูหรา",category:"profile",pointsCost:500,image:"/placeholder-qnb7c.png",isActive:!0,isLimited:!1,createdBy:"system",createdAt:new Date("2024-01-01")},{id:"theme_platinum",name:"ธีมแพลทินัม",description:"ธีมสีเงินแพลทินัมสุดพรีเมียม",category:"profile",pointsCost:1e3,image:"/placeholder-kzrrr.png",isActive:!0,isLimited:!1,createdBy:"system",createdAt:new Date("2024-01-01")},{id:"theme_diamond",name:"ธีมเพชร",description:"ธีมเพชรสุดหรู สำหรับผู้บริจาคระดับตำนาน",category:"profile",pointsCost:2500,image:"/placeholder-bdpu4.png",isActive:!0,isLimited:!0,limitQuantity:100,remainingQuantity:87,createdBy:"system",createdAt:new Date("2024-01-01"),requirements:{minLevel:5}},{id:"badge_heart",name:"ตราหัวใจทอง",description:"ตราสัญลักษณ์หัวใจทองคำ",category:"badge",pointsCost:300,image:"/placeholder-a5wmf.png",isActive:!0,isLimited:!1,createdBy:"system",createdAt:new Date("2024-01-01")},{id:"badge_crown",name:"มงกุฎแห่งความดี",description:"มงกุฎสำหรับผู้บริจาคชั้นสูง",category:"badge",pointsCost:800,image:"/golden-crown-badge.png",isActive:!0,isLimited:!1,createdBy:"system",createdAt:new Date("2024-01-01"),requirements:{minLevel:3}},{id:"frame_rainbow",name:"กรอบสีรุ้ง",description:"กรอบโปรไฟล์สีรุ้งสวยงาม",category:"profile",pointsCost:400,image:"/placeholder-xxg4t.png",isActive:!0,isLimited:!1,createdBy:"system",createdAt:new Date("2024-01-01")},{id:"frame_fire",name:"กรอบเปลวไฟ",description:"กรอบเปลวไฟสำหรับผู้บริจาคที่ร้อนแรง",category:"profile",pointsCost:600,image:"/placeholder-n8zrx.png",isActive:!0,isLimited:!1,createdBy:"system",createdAt:new Date("2024-01-01")},{id:"feature_priority",name:"การแสดงผลพิเศษ",description:"คำขอบริจาคของคุณจะแสดงในลำดับต้นๆ",category:"feature",pointsCost:1500,image:"/placeholder-4h2yn.png",isActive:!0,isLimited:!1,createdBy:"system",createdAt:new Date("2024-01-01"),requirements:{minLevel:4}}];function b(){let{user:e}=(0,x.a)(),[t,r]=(0,a.useState)(null),[p,b]=(0,a.useState)(null),[j,N]=(0,a.useState)(!1),[P,A]=(0,a.useState)("all"),[C,I]=(0,a.useState)(!0),[L,S]=(0,a.useState)(null),T=async()=>{if(!e?.id){S("กรุณาเข้าสู่ระบบเพื่อดูร้านรางวัล"),I(!1);return}I(!0);try{let t=await v.g.getUserPoints(e.id,e.token);r(t),S(null)}catch(e){console.error("Failed to load user points:",e),S("ไม่สามารถโหลดข้อมูลคะแนนได้"),(0,y.Am)({title:"ข้อผิดพลาด",description:"ไม่สามารถโหลดข้อมูลคะแนนได้ กรุณาลองใหม่",variant:"destructive"})}finally{I(!1)}},k=w.filter(e=>"all"===P||e.category===P),R=e=>!(!t||void 0===t.availablePoints||void 0===t.level||t.availablePoints<e.pointsCost||e.requirements?.minLevel&&t.level<e.requirements.minLevel)&&(!e.isLimited||0!==e.remainingQuantity),M=e=>{b(e),N(!0)},D=async()=>{if(!p||!e||!t){(0,y.Am)({title:"ข้อผิดพลาด",description:"ข้อมูลไม่ครบถ้วน กรุณาลองใหม่",variant:"destructive"}),N(!1),b(null);return}try{if(await v.g.spendPoints(e.id,p.pointsCost,"reward_purchase",`ซื้อ ${p.name}`,p.id)){let t=await fetch(`/api/rewards/${e.id}`,{method:"POST",headers:{"Content-Type":"application/json",...e.token&&{Authorization:`Bearer ${e.token}`}},body:JSON.stringify({rewardId:p.id,isActive:!0,createdAt:new Date})});if(!t.ok)throw Error(`Failed to save reward: ${t.statusText}`);let s=await v.g.getUserPoints(e.id,e.token);r(s),(0,y.Am)({title:"ซื้อรางวัลสำเร็จ!",description:`คุณได้รับ ${p.name} แล้ว`})}else(0,y.Am)({title:"ซื้อรางวัลไม่สำเร็จ",description:"คะแนนไม่เพียงพอหรือเกิดข้อผิดพลาด",variant:"destructive"})}catch(e){console.error("Error purchasing reward:",e),(0,y.Am)({title:"ข้อผิดพลาด",description:"เกิดข้อผิดพลาดขณะซื้อรางวัล กรุณาลองใหม่",variant:"destructive"})}N(!1),b(null)},E=e=>{switch(e){case"profile":return s.jsx(d.Z,{className:"h-4 w-4"});case"badge":return s.jsx(u.Z,{className:"h-4 w-4"});case"feature":return s.jsx(m,{className:"h-4 w-4"});default:return s.jsx(f.Z,{className:"h-4 w-4"})}};return e&&e.id?C?s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"กำลังโหลดข้อมูลคะแนน..."})}):L?(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{className:"text-red-600",children:L}),s.jsx(n.z,{onClick:T,className:"mt-4",children:"ลองใหม่"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(i.Zb,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200",children:s.jsx(i.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx(h.Z,{className:"h-8 w-8 text-yellow-600"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"คะแนนที่ใช้ได้"}),s.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:t&&void 0!==t.availablePoints?t.availablePoints.toLocaleString("th-TH"):"0"})]})]}),(0,s.jsxs)(o.C,{variant:"outline",className:"px-4 py-2 text-lg",children:[s.jsx(g,{className:"h-5 w-5 mr-2"}),t?.levelName||"N/A"]})]})})}),(0,s.jsxs)(l.mQ,{value:P,onValueChange:A,children:[(0,s.jsxs)(l.dr,{className:"grid w-full grid-cols-4",children:[(0,s.jsxs)(l.SP,{value:"all",className:"flex items-center gap-2",children:[s.jsx(f.Z,{className:"h-4 w-4"}),"ทั้งหมด"]}),(0,s.jsxs)(l.SP,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(d.Z,{className:"h-4 w-4"}),"ธีม"]}),(0,s.jsxs)(l.SP,{value:"badge",className:"flex items-center gap-2",children:[s.jsx(u.Z,{className:"h-4 w-4"}),"ตรา"]}),(0,s.jsxs)(l.SP,{value:"feature",className:"flex items-center gap-2",children:[s.jsx(m,{className:"h-4 w-4"}),"ฟีเจอร์"]})]}),s.jsx(l.nU,{value:P,className:"mt-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>(0,s.jsxs)(i.Zb,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"aspect-square relative",children:[s.jsx("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"}),e.isLimited&&void 0!==e.remainingQuantity&&void 0!==e.limitQuantity&&(0,s.jsxs)(o.C,{className:"absolute top-2 right-2 bg-red-500",children:["จำกัด ",e.remainingQuantity,"/",e.limitQuantity]})]}),(0,s.jsxs)(i.Ol,{className:"pb-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(i.ll,{className:"text-lg",children:e.name}),E(e.category)]}),s.jsx(i.SZ,{children:e.description})]}),s.jsx(i.aY,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(h.Z,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"font-semibold",children:e.pointsCost.toLocaleString("th-TH")})]}),e.requirements?.minLevel&&(0,s.jsxs)(o.C,{variant:"outline",className:"text-xs",children:["ระดับ ",e.requirements.minLevel,"+"]})]})}),s.jsx(i.eW,{children:s.jsx(n.z,{className:"w-full",onClick:()=>M(e),disabled:!R(e),variant:R(e)?"default":"secondary",children:R(e)?"ซื้อรางวัล":t&&void 0!==t.availablePoints&&t.availablePoints<e.pointsCost?"คะแนนไม่พอ":e.requirements?.minLevel&&t&&void 0!==t.level&&t.level<e.requirements.minLevel?"ระดับไม่พอ":e.isLimited&&0===e.remainingQuantity?"หมดแล้ว":"ไม่สามารถซื้อได้"})})]},e.id))})})]}),s.jsx(c.Vq,{open:j,onOpenChange:N,children:(0,s.jsxs)(c.cZ,{children:[(0,s.jsxs)(c.fK,{children:[s.jsx(c.$N,{children:"ยืนยันการซื้อรางวัล"}),(0,s.jsxs)(c.Be,{children:['คุณต้องการซื้อ "',p?.name,'" ด้วยคะแนน'," ",p?.pointsCost.toLocaleString("th-TH")," คะแนนใช่หรือไม่?"]})]}),(0,s.jsxs)(c.cN,{children:[s.jsx(n.z,{variant:"outline",onClick:()=>N(!1),children:"ยกเลิก"}),s.jsx(n.z,{onClick:D,children:"ยืนยันการซื้อ"})]})]})})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"กรุณาเข้าสู่ระบบเพื่อดูร้านรางวัล"})})}var j=r(86333),N=r(35047);function P(){let e=(0,N.useRouter)();return(0,s.jsxs)("div",{className:"container mx-auto px-20 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(n.z,{variant:"ghost",onClick:()=>e.back(),className:"mb-4 p-2 hover:bg-gray-100",children:[s.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"กลับ"]}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ร้านรางวัล"}),s.jsx("p",{className:"text-muted-foreground",children:"ใช้คะแนนที่สะสมจากการบริจาคเพื่อแลกรางวัลพิเศษ"})]}),s.jsx(b,{})]})}},79210:(e,t,r)=>{"use strict";r.d(t,{SP:()=>c,dr:()=>l,mQ:()=>o,nU:()=>d});var s=r(10326),a=r(17577),i=r(85408),n=r(77863);let o=i.fC,l=a.forwardRef(({className:e,...t},r)=>s.jsx(i.aV,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));l.displayName=i.aV.displayName;let c=a.forwardRef(({className:e,...t},r)=>s.jsx(i.xz,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=i.xz.displayName;let d=a.forwardRef(({className:e,...t},r)=>s.jsx(i.VY,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=i.VY.displayName},8878:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(23143),a=r(82051);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}calculateDonationPoints(e,t){switch(t){case"money":return Math.floor(e/100)*a.M.MONEY_DONATION;case"item":return a.M.ITEM_DONATION;case"volunteer":return e*a.M.VOLUNTEER_HOURS;default:return 0}}getUserLevel(e){let t=a.F.slice().reverse().find(t=>e>=t.minPoints)||a.F[0],r=a.F.find(t=>t.minPoints>e);return{...t,nextLevelPoints:r?r.minPoints:t.minPoints,progress:r?(e-t.minPoints)/(r.minPoints-t.minPoints)*100:100}}async addPoints(e,t,r,a,i){try{let n=await this.getUserPoints(e),o={id:(0,s.Z)(),type:"earned",amount:50,source:t,description:a,date:new Date().toISOString(),relatedId:i},l=await fetch("/api/points/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,type:o.type,amount:r,source:t,description:a,relatedId:i,transactionId:o.id})});if(!l.ok)throw Error(`Failed to add points: ${l.statusText}`);let{totalPoints:c,availablePoints:d,newReward:u}=await l.json(),p=this.getUserLevel(c),m={...n,totalPoints:c,availablePoints:d,level:p.level,levelName:p.name,nextLevelPoints:p.nextLevelPoints,progress:p.progress,color:p.color,pointsHistory:[o,...n.pointsHistory]};return this.userPoints.set(e,m),await this.saveToStorage(),m}catch(e){throw console.error("Error adding points:",e),e}}async spendPoints(e,t,r,a,i){try{let n=await this.getUserPoints(e);if(n.availablePoints<t)return!1;let o={id:(0,s.Z)(),type:"spent",amount:t,source:r,description:a,date:new Date().toISOString(),relatedId:i},l=await fetch("/api/points/spend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,type:o.type,amount:t,source:r,description:a,relatedId:i,transactionId:o.id})});if(!l.ok)throw Error(`Failed to spend points: ${l.statusText}`);let c={...n,availablePoints:n.availablePoints-t,pointsHistory:[o,...n.pointsHistory]};return this.userPoints.set(e,c),await this.saveToStorage(),!0}catch(e){throw console.error("Error spending points:",e),e}}async getUserPoints(e,t){try{if(await this.loadFromStorage(),!this.userPoints.has(e)){let r=`/api/points/${e}`;console.log(`Fetching points for userId: ${e} from ${r}`);let s=await fetch(r,{method:"GET",headers:{...t&&{Authorization:`Bearer ${t}`}}});if(console.log("API Response Status:",s.status,s.statusText),!s.ok)throw Error(`Failed to fetch user points: ${s.statusText} (${s.status})`);let a=await s.json();console.log("API Response Data:",a);let i=a.map(e=>["earned","spent"].includes(e.type)?{id:e.id,type:e.type,amount:e.amount,source:e.source,description:e.description,date:e.date,relatedId:e.relatedId??void 0}:(console.warn(`Invalid transaction type: ${e.type}, defaulting to "earned"`),{id:e.id,type:"earned",amount:e.amount,source:e.source,description:e.description,date:e.date,relatedId:e.relatedId??void 0})),n=i.filter(e=>"earned"===e.type).reduce((e,t)=>e+t.amount,0),o=i.reduce((e,t)=>"earned"===t.type?e+t.amount:e-t.amount,0),l=this.getUserLevel(n),c={userId:e,totalPoints:n,availablePoints:o,pointsHistory:i,level:l.level,levelName:l.name,nextLevelPoints:l.nextLevelPoints,progress:l.progress,color:l.color};this.userPoints.set(e,c)}return this.userPoints.get(e)}catch(e){throw console.error("Error fetching user points:",e),e}}async getUserRewards(e,t){try{let r=`/api/rewards/${e}`;console.log(`Fetching rewards for userId: ${e} from ${r}`);let s=await fetch(r,{method:"GET",headers:{...t&&{Authorization:`Bearer ${t}`}}});if(console.log("API Response Status:",s.status,s.statusText),!s.ok)throw Error(`Failed to fetch user rewards: ${s.statusText} (${s.status})`);let a=await s.json();return console.log("API Response Data:",a),a}catch(e){throw console.error("Error fetching user rewards:",e),e}}async getLeaderboard(e=10){try{await this.loadFromStorage();let t=await fetch(`/api/leaderboard?limit=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error(`Failed to fetch leaderboard: ${t.statusText}`);return(await t.json()).map(e=>{let t=e.pointsTransactions.map(e=>["earned","spent"].includes(e.type)?{id:e.id,type:e.type,amount:e.amount,source:e.source,description:e.description,date:e.date,relatedId:e.relatedId??void 0}:(console.warn(`Invalid transaction type: ${e.type}, defaulting to "earned"`),{id:e.id,type:"earned",amount:e.amount,source:e.source,description:e.description,date:e.date,relatedId:e.relatedId??void 0})),r=t.filter(e=>"earned"===e.type).reduce((e,t)=>e+t.amount,0),s=t.reduce((e,t)=>"earned"===t.type?e+t.amount:e-t.amount,0),a=this.getUserLevel(r);return{userId:e.id,totalPoints:r,availablePoints:s,pointsHistory:t,level:a.level,levelName:a.name,nextLevelPoints:a.nextLevelPoints,progress:a.progress,color:a.color}}).sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,e)}catch(e){throw console.error("Error fetching leaderboard:",e),e}}async saveToStorage(){}async loadFromStorage(){}constructor(){this.userPoints=new Map}}let n=i.getInstance()},13783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},89392:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},82051:(e,t,r)=>{"use strict";r.d(t,{F:()=>a,M:()=>s});let s={MONEY_DONATION:10,ITEM_DONATION:50,VOLUNTEER_HOURS:20,STORY_SHARE:25,REFERRAL:100,DAILY_LOGIN:5,PROFILE_COMPLETE:50,ADD_AVATAR:30},a=[{level:1,name:"ผู้เริ่มต้น",minPoints:0,color:"#94a3b8"},{level:2,name:"ผู้ช่วยเหลือ",minPoints:100,color:"#10b981"},{level:3,name:"ผู้มีจิตใจดี",minPoints:500,color:"#3b82f6"},{level:4,name:"นักบุญแห่งการให้",minPoints:1e3,color:"#8b5cf6"},{level:5,name:"ทูตแห่งความดี",minPoints:2500,color:"#f59e0b"},{level:6,name:"ตำนานแห่งการบริจาค",minPoints:5e3,color:"#ef4444"}]},98728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`D:\testProject\test-project\app\rewards\page.tsx#default`)},7747:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var s=r(17577),a=r(93095),i=r(48051),n=r(34214),o=r(10326);function l(e){let t=e+"CollectionProvider",[r,l]=(0,a.b)(t),[c,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:t,children:r}=e,a=s.useRef(null),i=s.useRef(new Map).current;return(0,o.jsx)(c,{scope:t,itemMap:i,collectionRef:a,children:r})};u.displayName=t;let p=e+"CollectionSlot",m=s.forwardRef((e,t)=>{let{scope:r,children:s}=e,a=d(p,r),l=(0,i.e)(t,a.collectionRef);return(0,o.jsx)(n.g7,{ref:l,children:s})});m.displayName=p;let f=e+"CollectionItemSlot",h="data-radix-collection-item",g=s.forwardRef((e,t)=>{let{scope:r,children:a,...l}=e,c=s.useRef(null),u=(0,i.e)(t,c),p=d(f,r);return s.useEffect(()=>(p.itemMap.set(c,{ref:c,...l}),()=>void p.itemMap.delete(c))),(0,o.jsx)(n.g7,{[h]:"",ref:u,children:a})});return g.displayName=f,[{Provider:u,Slot:m,ItemSlot:g},function(t){let r=d(e+"CollectionConsumer",t);return s.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},l]}},17124:(e,t,r)=>{"use strict";r.d(t,{gm:()=>i});var s=r(17577);r(10326);var a=s.createContext(void 0);function i(e){let t=s.useContext(a);return e||t||"ltr"}},85408:(e,t,r)=>{"use strict";r.d(t,{VY:()=>Q,aV:()=>G,fC:()=>H,xz:()=>K});var s=r(17577),a=r(82561),i=r(93095),n=r(7747),o=r(48051),l=r(88957),c=r(45226),d=r(55049),u=r(52067),p=r(17124),m=r(10326),f="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[v,x,y]=(0,n.B)(g),[w,b]=(0,i.b)(g,[y]),[j,N]=w(g),P=s.forwardRef((e,t)=>(0,m.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,m.jsx)(A,{...e,ref:t})})}));P.displayName=g;var A=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:i,loop:n=!1,dir:l,currentTabStopId:g,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:y,onEntryFocus:w,preventScrollOnEntryFocus:b=!1,...N}=e,P=s.useRef(null),A=(0,o.e)(t,P),C=(0,p.gm)(l),[I=null,L]=(0,u.T)({prop:g,defaultProp:v,onChange:y}),[T,k]=s.useState(!1),R=(0,d.W)(w),M=x(r),D=s.useRef(!1),[E,F]=s.useState(0);return s.useEffect(()=>{let e=P.current;if(e)return e.addEventListener(f,R),()=>e.removeEventListener(f,R)},[R]),(0,m.jsx)(j,{scope:r,orientation:i,dir:C,loop:n,currentTabStopId:I,onItemFocus:s.useCallback(e=>L(e),[L]),onItemShiftTab:s.useCallback(()=>k(!0),[]),onFocusableItemAdd:s.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>F(e=>e-1),[]),children:(0,m.jsx)(c.WV.div,{tabIndex:T||0===E?-1:0,"data-orientation":i,...N,ref:A,style:{outline:"none",...e.style},onMouseDown:(0,a.M)(e.onMouseDown,()=>{D.current=!0}),onFocus:(0,a.M)(e.onFocus,e=>{let t=!D.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(f,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=M().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===I),...e].filter(Boolean).map(e=>e.ref.current),b)}}D.current=!1}),onBlur:(0,a.M)(e.onBlur,()=>k(!1))})})}),C="RovingFocusGroupItem",I=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:i=!0,active:n=!1,tabStopId:o,...d}=e,u=(0,l.M)(),p=o||u,f=N(C,r),h=f.currentTabStopId===p,g=x(r),{onFocusableItemAdd:y,onFocusableItemRemove:w}=f;return s.useEffect(()=>{if(i)return y(),()=>w()},[i,y,w]),(0,m.jsx)(v.ItemSlot,{scope:r,id:p,focusable:i,active:n,children:(0,m.jsx)(c.WV.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...d,ref:t,onMouseDown:(0,a.M)(e.onMouseDown,e=>{i?f.onItemFocus(p):e.preventDefault()}),onFocus:(0,a.M)(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:(0,a.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){f.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let a=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return L[a]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let s=r.indexOf(e.currentTarget);r=f.loop?function(e,t){return e.map((r,s)=>e[(t+s)%e.length])}(r,s+1):r.slice(s+1)}setTimeout(()=>S(r))}})})})});I.displayName=C;var L={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}var T=r(9815),k="Tabs",[R,M]=(0,i.b)(k,[b]),D=b(),[E,F]=R(k),_=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:n="horizontal",dir:o,activationMode:d="automatic",...f}=e,h=(0,p.gm)(o),[g,v]=(0,u.T)({prop:s,onChange:a,defaultProp:i});return(0,m.jsx)(E,{scope:r,baseId:(0,l.M)(),value:g,onValueChange:v,orientation:n,dir:h,activationMode:d,children:(0,m.jsx)(c.WV.div,{dir:h,"data-orientation":n,...f,ref:t})})});_.displayName=k;var q="TabsList",O=s.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...a}=e,i=F(q,r),n=D(r);return(0,m.jsx)(P,{asChild:!0,...n,orientation:i.orientation,dir:i.dir,loop:s,children:(0,m.jsx)(c.WV.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});O.displayName=q;var $="TabsTrigger",U=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:i=!1,...n}=e,o=F($,r),l=D(r),d=V(o.baseId,s),u=B(o.baseId,s),p=s===o.value;return(0,m.jsx)(I,{asChild:!0,...l,focusable:!i,active:p,children:(0,m.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":u,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...n,ref:t,onMouseDown:(0,a.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,a.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,a.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;p||i||!e||o.onValueChange(s)})})})});U.displayName=$;var z="TabsContent",Z=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,forceMount:i,children:n,...o}=e,l=F(z,r),d=V(l.baseId,a),u=B(l.baseId,a),p=a===l.value,f=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(T.z,{present:i||p,children:({present:r})=>(0,m.jsx)(c.WV.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&n})})});function V(e,t){return`${e}-trigger-${t}`}function B(e,t){return`${e}-content-${t}`}Z.displayName=z;var H=_,G=O,K=U,Q=Z},23143:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(6005);let a={randomUUID:s.randomUUID},i=new Uint8Array(256),n=i.length,o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));let l=function(e,t,r){return!a.randomUUID||t||e?function(e,t,r){let a=(e=e||{}).random??e.rng?.()??(n>i.length-16&&((0,s.randomFillSync)(i),n=0),i.slice(n,n+=16));if(a.length<16)throw Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=a[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(a)}(e,t,r):a.randomUUID()}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,2480,8270,6536,9553,5771],()=>r(68605));module.exports=s})();