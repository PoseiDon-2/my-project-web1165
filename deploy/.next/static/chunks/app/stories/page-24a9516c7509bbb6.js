(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2747],{4801:function(e,t,i){Promise.resolve().then(i.bind(i,4345))},4345:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var s=i(7437),n=i(2265),r=i(9376);let a=(0,i(9205).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var o=i(3276),l=i(2489),d=i(6362),c=i(8997),h=i(8919),u=i(2869),g=i(5974);let m=[{donationRequestId:1,donationTitle:"ช่วยเหลือครอบครัวที่ประสบอุทกภัย",organizer:"สมชาย ใจดี",avatar:"/placeholder.svg?height=60&width=60",hasUnviewed:!0,stories:[{id:1,donationRequestId:1,title:"เริ่มซ่อมแซมบ้าน",type:"progress",content:"วันนี้ได้เริ่มซ่อมแซมหลังคาและผนังที่เสียหายจากน้ำท่วมแล้วครับ ขอบคุณทุกท่านที่ให้ความช่วยเหลือ",image:"/placeholder.svg?height=600&width=400",timestamp:"2024-01-15T10:00:00Z",author:"สมชาย ใจดี",isViewed:!1,duration:5},{id:2,donationRequestId:1,title:"ความคืบหน้า 50%",type:"milestone",content:"ระดมทุนได้ครึ่งหนึ่งแล้ว! ขอบคุณผู้บริจาคทุกท่าน เรากำลังใกล้เป้าหมายแล้ว",image:"/placeholder.svg?height=600&width=400",timestamp:"2024-01-14T15:30:00Z",author:"สมชาย ใจดี",isViewed:!1,duration:4},{id:3,donationRequestId:1,title:"ขอบคุณผู้บริจาค",type:"thank_you",content:"ขอบพระคุณทุกท่านที่ให้ความช่วยเหลือครอบครัวเรา ความช่วยเหลือของทุกท่านมีความหมายมากสำหรับเรา",image:"/placeholder.svg?height=600&width=400",timestamp:"2024-01-13T09:15:00Z",author:"สมชาย ใจดี",isViewed:!0,duration:6}]},{donationRequestId:2,donationTitle:"ระดมทุนผ่าตัดหัวใจเด็ก",organizer:"มูลนิธิเด็กไทย",avatar:"/placeholder.svg?height=60&width=60",hasUnviewed:!0,stories:[{id:4,donationRequestId:2,title:"น้องเข้าโรงพยาบาล",type:"milestone",content:"น้องมายด์เข้าโรงพยาบาลเพื่อเตรียมผ่าตัดแล้ว แพทย์บอกว่าการผ่าตัดจะดำเนินการในสัปดาห์หน้า",image:"/placeholder.svg?height=600&width=400",timestamp:"2024-01-15T14:00:00Z",author:"มูลนิธิเด็กไทย",isViewed:!1,duration:5},{id:5,donationRequestId:2,title:"เป้าหมายใกล้สำเร็จ",type:"progress",content:"ระดมทุนได้ 80% แล้ว! อีกเพียงเล็กน้อยน้องจะได้รับการรักษา",image:"/placeholder.svg?height=600&width=400",timestamp:"2024-01-14T11:20:00Z",author:"มูลนิธิเด็กไทย",isViewed:!1,duration:4}]},{donationRequestId:3,donationTitle:"สร้างห้องสมุดให้โรงเรียนชนบท",organizer:"โรงเรียนบ้านดอนตาล",avatar:"/placeholder.svg?height=60&width=60",hasUnviewed:!1,stories:[{id:6,donationRequestId:3,title:"เริ่มก่อสร้าง",type:"progress",content:"เริ่มก่อสร้างห้องสมุดแล้ว! เด็กๆ ตื่นเต้นมาก รอไม่ไหวที่จะได้อ่านหนังสือใหม่ๆ",image:"/placeholder.svg?height=600&width=400",timestamp:"2024-01-12T08:00:00Z",author:"โรงเรียนบ้านดอนตาล",isViewed:!0,duration:5}]},{donationRequestId:4,donationTitle:"อาหารสำหรับสุนัขจรจัด",organizer:"มูลนิธิรักษ์สัตว์",avatar:"/placeholder.svg?height=60&width=60",hasUnviewed:!0,stories:[{id:7,donationRequestId:4,title:"สุนัขได้อาหารแล้ว",type:"thank_you",content:"ขอบคุณผู้บริจาคทุกท่าน สุนัขน้อยๆ ได้กินอาหารอร่อยแล้ว หางส่ายไม่หยุด!",image:"/placeholder.svg?height=600&width=400",timestamp:"2024-01-15T16:45:00Z",author:"มูลนิธิรักษ์สัตว์",isViewed:!1,duration:4}]}];function f(e){var t;let{initialGroupIndex:i=0,initialStoryIndex:f=0}=e,v=(0,r.useRouter)(),[x,p]=(0,n.useState)(i),[b,w]=(0,n.useState)(f),[y,j]=(0,n.useState)(0),[N,k]=(0,n.useState)(!0),[z,Z]=(0,n.useState)(Date.now()),q=m[x],I=null==q?void 0:q.stories[b];(0,n.useEffect)(()=>{if(!N||!I)return;let e=setInterval(()=>{let e=(Date.now()-z)/1e3/I.duration*100;e>=100?R():j(e)},50);return()=>clearInterval(e)},[N,I,z]);let R=()=>{b<q.stories.length-1?(w(b+1),j(0),Z(Date.now())):x<m.length-1?(p(x+1),w(0),j(0),Z(Date.now())):v.back()};return I?(0,s.jsxs)("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute top-4 left-4 right-4 z-20",children:(0,s.jsx)("div",{className:"flex gap-1",children:q.stories.map((e,t)=>(0,s.jsx)("div",{className:"flex-1 h-1 bg-white/30 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-white transition-all duration-100 ease-linear",style:{width:t<b?"100%":t===b?"".concat(y,"%"):"0%"}})},t))})}),(0,s.jsxs)("div",{className:"absolute top-8 left-4 right-4 z-20 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:q.avatar||"/placeholder.svg",alt:q.organizer,className:"w-10 h-10 rounded-full border-2 border-white"}),q.hasUnviewed&&(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-pink-500 rounded-full border-2 border-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-white font-medium text-sm",children:q.organizer}),(0,s.jsx)("p",{className:"text-white/80 text-xs",children:(e=>{let t=new Date,i=new Date(e),s=Math.floor((t.getTime()-i.getTime())/36e5);return s<1?"เมื่อสักครู่":s<24?"".concat(s," ชั่วโมงที่แล้ว"):"".concat(Math.floor(s/24)," วันที่แล้ว")})(I.timestamp)})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.z,{size:"sm",variant:"ghost",onClick:()=>{N?k(!1):(k(!0),Z(Date.now()-y/100*I.duration*1e3))},className:"text-white hover:bg-white/20",children:N?(0,s.jsx)(a,{className:"w-4 h-4"}):(0,s.jsx)(o.Z,{className:"w-4 h-4"})}),(0,s.jsx)(u.z,{size:"sm",variant:"ghost",onClick:()=>v.back(),className:"text-white hover:bg-white/20",children:(0,s.jsx)(l.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"relative w-full h-full max-w-md mx-auto",children:[(0,s.jsx)("img",{src:I.image||"/placeholder.svg",alt:I.title,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/30"}),(0,s.jsx)("div",{className:"absolute top-20 left-4",children:(0,s.jsx)(g.C,{className:"".concat({progress:"bg-blue-500",milestone:"bg-purple-500",thank_you:"bg-green-500",completion:"bg-orange-500"}[I.type]||"bg-gray-500"," text-white border-0"),children:{progress:"ความคืบหน้า",milestone:"เหตุการณ์สำคัญ",thank_you:"ขอบคุณ",completion:"เสร็จสิ้น"}[t=I.type]||t})}),(0,s.jsxs)("div",{className:"absolute bottom-20 left-4 right-4",children:[(0,s.jsx)("h2",{className:"text-white text-xl font-bold mb-2",children:I.title}),(0,s.jsx)("p",{className:"text-white/90 text-sm leading-relaxed",children:I.content})]}),(0,s.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[(0,s.jsxs)(u.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:()=>v.push("/donation/".concat(I.donationRequestId)),children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"ดูรายละเอียด"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:(0,s.jsx)(c.Z,{className:"w-4 h-4"})}),(0,s.jsx)(u.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:(0,s.jsx)(h.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"absolute inset-0 flex",children:[(0,s.jsx)("div",{className:"flex-1 cursor-pointer",onClick:()=>{if(b>0)w(b-1),j(0),Z(Date.now());else if(x>0){let e=m[x-1];p(x-1),w(e.stories.length-1),j(0),Z(Date.now())}}}),(0,s.jsx)("div",{className:"flex-1 cursor-pointer",onClick:R})]})]}),(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:m.map((e,t)=>(0,s.jsx)("button",{onClick:()=>{p(t),w(0),j(0),Z(Date.now())},className:"w-2 h-2 rounded-full transition-colors ".concat(t===x?"bg-white":"bg-white/50")},e.donationRequestId))})]}):null}},5974:function(e,t,i){"use strict";i.d(t,{C:function(){return o}});var s=i(7437);i(2265);var n=i(535),r=i(4508);let a=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:i,...n}=e;return(0,s.jsx)("div",{className:(0,r.cn)(a({variant:i}),t),...n})}},2869:function(e,t,i){"use strict";i.d(t,{z:function(){return d}});var s=i(7437),n=i(2265),r=i(7053),a=i(535),o=i(4508);let l=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:i,variant:n,size:a,asChild:d=!1,...c}=e,h=d?r.g7:"button";return(0,s.jsx)(h,{className:(0,o.cn)(l({variant:n,size:a,className:i})),ref:t,...c})});d.displayName="Button"},4508:function(e,t,i){"use strict";i.d(t,{cn:function(){return r}});var s=i(1994),n=i(3335);function r(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,n.m6)((0,s.W)(t))}},6362:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});let s=(0,i(9205).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},8997:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});let s=(0,i(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3276:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});let s=(0,i(9205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},8919:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});let s=(0,i(9205).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},2489:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});let s=(0,i(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[2582,2971,2117,1744],function(){return e(e.s=4801)}),_N_E=e.O()}]);