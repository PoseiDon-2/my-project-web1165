(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4127],{1559:function(e,s,t){Promise.resolve().then(t.bind(t,7526))},7526:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return L}});var a=t(7437),l=t(2265),n=t(9376),r=t(5252),i=t(4794),c=t(4569),d=t(2660),o=t(1621),x=t(8997),m=t(8919),h=t(1047),p=t(1723),g=t(1671),u=t(8226),j=t(3041),N=t(7404),y=t(3388),v=t(3774),f=t(3276),b=t(2208),w=t(1810);let k=(0,t(9205).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var Z=t(9322),C=t(5805),z=t(525),D=t(8736),S=t(9397),T=t(2869),M=t(6070),A=t(5974),R=t(2759),U=t(6831),O=t(2339),P=t(5271),q=t(4738),H=t(1121),Y=t(777),E=t(3535),V=t(6274),F=t(3183),Q=t(8017);let _=[{id:1,title:"เริ่มต้นโครงการ",content:"เราได้เริ่มต้นโครงการช่วยเหลือครอบครัวที่ประสบอุทกภัยแล้ว ขอบคุณทุกท่านที่ให้การสนับสนุน",type:"progress",imageUrl:"/placeholder.svg?height=300&width=400",createdAt:"2024-01-15T10:00:00Z",views:245,likes:32,isViewed:!1},{id:2,title:"ความคืบหน้า 50%",content:"ขณะนี้เราได้รับการสนับสนุนไปแล้ว 50% ของเป้าหมาย ขอบคุณทุกท่านมากครับ",type:"milestone",imageUrl:"/placeholder.svg?height=300&width=400",createdAt:"2024-01-12T14:30:00Z",views:189,likes:28,isViewed:!0}],I={id:1,title:"ช่วยเหลือครอบครัวที่ประสบอุทกภัย",description:"ครอบครัวของเราประสบอุทกภัยใหญ่ที่จังหวัดอุบลราชธานี ทำให้บ้านและข้าวของเสียหายหมด ต้องการความช่วยเหลือเพื่อซ่อมแซมบ้านและซื้อข้าวของใช้จำเป็น",imageUrl:"/placeholder.svg?height=400&width=600",category:"ภัยพิบัติ",organizationType:"ชุมชน",donationTypes:["money","items","volunteer"],goals:{money:{target:5e4,current:23500,supporters:47},items:{description:"เสื้อผ้า อาหารแห้ง น้ำดื่ม อุปกรณ์ทำความสะอาด",received:["เสื้อผ้า 50 ชุด","น้ำดื่ม 100 ขวด","อาหารแห้ง 20 กิโลกรัม"],supporters:23},volunteer:{target:15,current:8,description:"ช่วยงานซ่อมแซมบ้าน ทำความสะอาด จัดของ",supporters:8}},daysLeft:15,address:"อุบลราชธานี",contactPhone:"081-234-5678",organizer:{name:"สมหญิง จัดการ",organization:"ชุมชนบ้านดอนตาล",avatar:"/placeholder.svg?height=100&width=100",verified:!0},createdDate:"2024-01-10",tags:["น้ำท่วม","ครอบครัว","บ้าน"],paymentMethods:{promptpay:"081-234-5678",bankAccount:{bank:"ธนาคารกสิกรไทย",accountNumber:"123-4-56789-0",accountName:"นายสมชาย ใจดี"},truewallet:"081-234-5678"},updates:[{id:1,title:"ได้รับการสนับสนุนแล้ว 50%",content:"ขอบคุณทุกท่านที่ให้การสนับสนุน ตอนนี้เราได้รับเงินบริจาคไปแล้ว 50% ของเป้าหมาย",date:"2024-01-12",images:["/placeholder.svg?height=200&width=300"]},{id:2,title:"เริ่มซ่อมแซมบ้าน",content:"เราได้เริ่มซ่อมแซมบ้านแล้ว คาดว่าจะเสร็จสิ้นภายใน 2 สัปดาห์",date:"2024-01-08",images:["/placeholder.svg?height=200&width=300","/placeholder.svg?height=200&width=300"]}],donationHistory:[{id:1,donor:"คุณสมชาย",amount:1e3,date:"2024-01-15",message:"ขอให้ผ่านพ้นวิกฤตไปด้วยดี",type:"money"},{id:2,donor:"คุณสมหญิง",amount:2e3,date:"2024-01-14",message:"กำลังใจให้ครับ",type:"money"},{id:3,donor:"ผู้บริจาคไม่ประสงค์ออกนาม",amount:5e3,date:"2024-01-13",message:"",type:"money"},{id:4,donor:"คุณวิชัย",items:"เสื้อผ้า 10 ชุด",date:"2024-01-12",message:"ช่วยเหลือเท่าที่ทำได้",type:"items"},{id:5,donor:"คุณมาลี",volunteer:"ช่วยงานทำความสะอาด",date:"2024-01-11",message:"หวังว่าจะช่วยได้",type:"volunteer"}]};function L(e){var s,t,L,X,$;let{id:B}=e,G=(0,n.useRouter)(),{user:J}=(0,q.a)(),[K,W]=(0,l.useState)("details"),[ee,es]=(0,l.useState)(!1),[et,ea]=(0,l.useState)(!1),[el,en]=(0,l.useState)(!1),[er,ei]=(0,l.useState)(!1),[ec,ed]=(0,l.useState)(!1),[eo,ex]=(0,l.useState)(!1),[em,eh]=(0,l.useState)(!1),[ep,eg]=(0,l.useState)(!1),[eu,ej]=(0,l.useState)(null),[eN,ey]=(0,l.useState)([]),ev=(null==J?void 0:J.role)==="ORGANIZER";(0,l.useEffect)(()=>{ef()},[B]);let ef=()=>{try{let e=P.X.getReceiptsForRequest(B.toString());ey(e.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()))}catch(e){console.error("Error loading receipts:",e)}},eb=I.goals.money?I.goals.money.current/I.goals.money.target*100:0,ew=I.goals.volunteer?I.goals.volunteer.current/I.goals.volunteer.target*100:0,ek=e=>new Intl.NumberFormat("th-TH").format(e),eZ=e=>new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),eC=e=>{let s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/36e5);if(a<1)return"เมื่อสักครู่";if(a<24)return"".concat(a," ชั่วโมงที่แล้ว");let l=Math.floor(a/24);return l<7?"".concat(l," วันที่แล้ว"):eZ(e)},ez=e=>({progress:"bg-blue-100 text-blue-700",milestone:"bg-green-100 text-green-700",thanks:"bg-pink-100 text-pink-700",completed:"bg-purple-100 text-purple-700"})[e]||"bg-gray-100 text-gray-700",eD=e=>({progress:"ความคืบหน้า",milestone:"เหตุการณ์สำคัญ",thanks:"ขอบคุณ",completed:"เสร็จสิ้น"})[e]||e,eS=e=>({money:r.Z,items:i.Z,volunteer:c.Z})[e]||r.Z,eT=e=>({money:"เงิน",items:"สิ่งของ",volunteer:"อาสาสมัคร"})[e]||e,eM=e=>({money:"bg-green-100 text-green-700 border-green-200",items:"bg-blue-100 text-blue-700 border-blue-200",volunteer:"bg-purple-100 text-purple-700 border-purple-200"})[e]||"bg-gray-100 text-gray-700 border-gray-200",eA=e=>{ej(e),eg(!0)},eR=(()=>{let e=eN.filter(e=>"money"===e.type&&"completed"===e.status).reduce((e,s)=>e+(s.amount||0),0);return{totalAmount:e,totalReceipts:eN.length,pendingReceipts:eN.filter(e=>"pending"===e.status).length,completedReceipts:eN.filter(e=>"completed"===e.status).length}})(),eU=_.filter(e=>!e.isViewed),eO=er?_:_.slice(0,3);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(T.z,{variant:"ghost",size:"sm",onClick:()=>G.back(),className:"hover:bg-pink-50",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"กลับ"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[ev&&(0,a.jsxs)(T.z,{variant:"outline",size:"sm",onClick:()=>eh(!0),className:"hover:bg-green-50 text-green-700 border-green-200",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"อัปโหลดสลิป"]}),(0,a.jsx)(T.z,{variant:"ghost",size:"sm",onClick:()=>es(!ee),className:"hover:bg-pink-50 ".concat(ee?"text-pink-600":"text-gray-600"),children:(0,a.jsx)(x.Z,{className:"w-4 h-4 ".concat(ee?"fill-current":"")})}),(0,a.jsx)(T.z,{variant:"ghost",size:"sm",onClick:()=>ea(!0),className:"hover:bg-pink-50",children:(0,a.jsx)(m.Z,{className:"w-4 h-4"})})]})]})})}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,a.jsxs)(M.Zb,{className:"mb-6 overflow-hidden",children:[(0,a.jsxs)("div",{className:"aspect-video relative",children:[(0,a.jsx)("img",{src:I.imageUrl||"/placeholder.svg",alt:I.title,className:"w-full h-full object-cover"}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[(0,a.jsx)(A.C,{className:"bg-white/90 text-gray-800 hover:bg-white",children:I.category}),(0,a.jsx)(A.C,{variant:"outline",className:"bg-white/90 text-gray-800 hover:bg-white",children:I.organizationType})]})]}),(0,a.jsx)(M.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:I.title}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["สร้างเมื่อ ",eZ(I.createdDate)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["เหลือ ",I.daysLeft," วัน"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800",children:"ประเภทการบริจาค"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:I.donationTypes.map(e=>{let s=eS(e);return(0,a.jsxs)(A.C,{className:"".concat(eM(e)," border"),children:[(0,a.jsx)(s,{className:"w-3 h-3 mr-1"}),eT(e)]},e)})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[I.goals.money&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h4",{className:"font-medium text-green-800",children:"เป้าหมายเงิน"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["฿",ek(I.goals.money.current)]}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["เป้าหมาย ฿",ek(I.goals.money.target)]})]}),(0,a.jsx)(R.E,{value:eb,className:"h-3"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[Math.round(eb),"% ของเป้าหมาย"]}),(0,a.jsxs)("span",{children:[I.goals.money.supporters," ผู้สนับสนุน"]})]})]}),I.goals.items&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-medium text-blue-800",children:"สิ่งของที่ต้องการ"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:I.goals.items.description}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-blue-800",children:"ได้รับแล้ว:"}),(0,a.jsx)("ul",{className:"text-sm text-gray-700 space-y-1",children:I.goals.items.received.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 text-green-500"}),e]},s))})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[I.goals.items.supporters," ผู้บริจาคสิ่งของ"]})]}),I.goals.volunteer&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 text-purple-600"}),(0,a.jsx)("h4",{className:"font-medium text-purple-800",children:"อาสาสมัคร"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-purple-600",children:[I.goals.volunteer.current," คน"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["เป้าหมาย ",I.goals.volunteer.target," คน"]})]}),(0,a.jsx)(R.E,{value:ew,className:"h-3"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:I.goals.volunteer.description}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.round(ew),"% ของเป้าหมาย"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)(U.qE,{className:"w-12 h-12",children:[(0,a.jsx)(U.F$,{src:I.organizer.avatar||"/placeholder.svg"}),(0,a.jsx)(U.Q5,{children:I.organizer.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-800",children:I.organizer.name}),I.organizer.verified&&(0,a.jsx)(g.Z,{className:"w-4 h-4 text-green-500"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:I.organizer.organization})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[I.donationTypes.includes("money")&&(0,a.jsxs)(T.z,{className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600",onClick:()=>en(!0),children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"บริจาคเงิน"]}),I.donationTypes.includes("items")&&(0,a.jsxs)(T.z,{className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600",onClick:()=>ed(!0),children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"บริจาคสิ่งของ"]}),I.donationTypes.includes("volunteer")&&(0,a.jsxs)(T.z,{variant:"outline",className:"bg-transparent",onClick:()=>ex(!0),children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"สมัครอาสาสมัคร"]}),!I.donationTypes.includes("money")&&!I.donationTypes.includes("items")&&!I.donationTypes.includes("volunteer")&&(0,a.jsxs)(T.z,{variant:"outline",className:"bg-transparent col-span-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"ติดต่อผู้จัดการ"]})]}),I.donationTypes.includes("money")&&(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg",children:[(0,a.jsxs)(T.z,{variant:"outline",size:"sm",className:"flex flex-col gap-1 h-auto py-3 bg-transparent",onClick:()=>en(!0),children:[(0,a.jsx)(N.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("span",{className:"text-xs",children:"QR Code"})]}),(0,a.jsxs)(T.z,{variant:"outline",size:"sm",className:"flex flex-col gap-1 h-auto py-3 bg-transparent",onClick:()=>en(!0),children:[(0,a.jsx)(y.Z,{className:"w-6 h-6 text-green-600"}),(0,a.jsx)("span",{className:"text-xs",children:"PromptPay"})]}),(0,a.jsxs)(T.z,{variant:"outline",size:"sm",className:"flex flex-col gap-1 h-auto py-3 bg-transparent",onClick:()=>en(!0),children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 text-purple-600"}),(0,a.jsx)("span",{className:"text-xs",children:"บัตรเครดิต"})]})]})]})})]}),(0,a.jsxs)(O.mQ,{value:K,onValueChange:W,className:"space-y-6",children:[(0,a.jsxs)(O.dr,{className:"grid w-full ".concat(ev?"grid-cols-4":"grid-cols-3"," bg-white"),children:[(0,a.jsx)(O.SP,{value:"details",children:"รายละเอียด"}),(0,a.jsx)(O.SP,{value:"history",children:"ประวัติการบริจาค"}),(0,a.jsx)(O.SP,{value:"updates",children:"อัปเดตจากผู้รับบริจาค"}),ev&&(0,a.jsxs)(O.SP,{value:"receipts",className:"relative",children:["สลิปการรับเงิน",eR.pendingReceipts>0&&(0,a.jsx)(A.C,{className:"ml-2 bg-red-500 text-white text-xs px-1 min-w-[20px] h-5",children:eR.pendingReceipts})]})]}),(0,a.jsxs)(O.nU,{value:"details",className:"space-y-6",children:[(0,a.jsxs)(M.Zb,{children:[(0,a.jsx)(M.Ol,{children:(0,a.jsx)(M.ll,{children:"รายละเอียด"})}),(0,a.jsxs)(M.aY,{children:[(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed",children:I.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:I.tags.map(e=>(0,a.jsxs)(A.C,{variant:"secondary",className:"bg-pink-100 text-pink-700",children:["#",e]},e))})]})]}),(0,a.jsxs)(M.Zb,{children:[(0,a.jsx)(M.Ol,{children:(0,a.jsxs)(M.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"w-5 h-5 text-pink-500"}),"ที่ตั้งและการติดต่อ"]})}),(0,a.jsxs)(M.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-700",children:I.address})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-700",children:I.contactPhone})]})]})]}),(0,a.jsxs)(M.Zb,{children:[(0,a.jsx)(M.Ol,{children:(0,a.jsxs)(M.ll,{className:"flex items-center gap-2",children:["\uD83D\uDCD6 Stories ความคืบหน้า",eU.length>0&&(0,a.jsxs)(A.C,{className:"bg-pink-500 text-white text-xs",children:[eU.length," ใหม่"]})]})}),(0,a.jsxs)(M.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(U.qE,{className:"w-16 h-16 ring-2 ring-pink-300",children:[(0,a.jsx)(U.F$,{src:I.organizer.avatar||"/placeholder.svg"}),(0,a.jsx)(U.Q5,{children:I.organizer.name.charAt(0)})]}),eU.length>0&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs text-white font-bold",children:eU.length})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800",children:I.organizer.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:eU.length>0?"มี Stories ใหม่ ".concat(eU.length," เรื่อง"):"ดู Stories ทั้งหมด"})]}),(0,a.jsxs)(T.z,{size:"sm",className:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600",onClick:()=>G.push("/stories?donation=".concat(I.id)),children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),"ดู Stories"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:_.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>G.push("/stories?donation=".concat(I.id,"&story=").concat(e.id)),children:[e.imageUrl?(0,a.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-purple-100",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCD6"})}),!e.isViewed&&(0,a.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 bg-pink-500 rounded-full"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:(0,a.jsx)(A.C,{className:"".concat(ez(e.type)," text-xs"),children:eD(e.type)})})]},e.id))}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-800",children:"Stories ล่าสุด"}),eO.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-white rounded-lg border hover:shadow-sm transition-shadow cursor-pointer",onClick:()=>G.push("/stories?donation=".concat(I.id,"&story=").concat(e.id)),children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex-shrink-0 flex items-center justify-center",children:e.imageUrl?(0,a.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover rounded-lg"}):(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCD6"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h6",{className:"font-medium text-gray-800 truncate",children:e.title}),(0,a.jsx)(A.C,{className:"".concat(ez(e.type)," text-xs flex-shrink-0"),children:eD(e.type)}),!e.isViewed&&(0,a.jsx)("div",{className:"w-2 h-2 bg-pink-500 rounded-full flex-shrink-0"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:eC(e.createdAt)}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.views})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(w.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.likes})]})]})]})]},e.id))]}),_.length>3&&(0,a.jsx)(T.z,{variant:"outline",className:"w-full bg-transparent",onClick:()=>ei(!er),children:er?"แสดงน้อยลง":"ดู Stories ทั้งหมด (".concat(_.length,")")}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-800",children:_.length}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Stories ทั้งหมด"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-800",children:_.reduce((e,s)=>e+s.views,0)}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"การดูรวม"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-800",children:_.reduce((e,s)=>e+s.likes,0)}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"ถูกใจรวม"})]})]})]})]}),I.donationTypes.includes("money")&&(0,a.jsxs)(M.Zb,{children:[(0,a.jsx)(M.Ol,{children:(0,a.jsxs)(M.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(k,{className:"w-5 h-5 text-green-500"}),"วิธีการบริจาค"]})}),(0,a.jsxs)(M.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800",children:"การบริจาคออนไลน์"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsx)(T.z,{variant:"outline",className:"justify-start h-auto p-4 bg-transparent",onClick:()=>en(!0),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(N.Z,{className:"w-8 h-8 text-blue-600"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"QR Code PromptPay"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"สแกน QR Code เพื่อบริจาค"})]})]})}),(0,a.jsx)(T.z,{variant:"outline",className:"justify-start h-auto p-4 bg-transparent",onClick:()=>en(!0),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.Z,{className:"w-8 h-8 text-purple-600"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"บัตรเครดิต/เดบิต"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"ชำระผ่านบัตรเครดิตหรือเดบิต"})]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-4 border-t",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800",children:"โอนเงินผ่านธนาคาร"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"ธนาคาร"}),(0,a.jsx)("p",{className:"font-medium text-gray-800",children:I.paymentMethods.bankAccount.bank})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"เลขที่บัญชี"}),(0,a.jsx)("p",{className:"font-medium text-gray-800",children:I.paymentMethods.bankAccount.accountNumber})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"ชื่อบัญชี"}),(0,a.jsx)("p",{className:"font-medium text-gray-800",children:I.paymentMethods.bankAccount.accountName})]})]}),(0,a.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"คำแนะนำการบริจาค"}),(0,a.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,a.jsx)("li",{children:"• เลือกวิธีการบริจาคที่สะดวกสำหรับคุณ"}),(0,a.jsx)("li",{children:"• การบริจาคออนไลน์จะได้รับการยืนยันทันที"}),(0,a.jsx)("li",{children:"• เก็บหลักฐานการบริจาคไว้เป็นหลักฐาน"})]})]})]})})]})]})]}),(0,a.jsx)(O.nU,{value:"history",className:"space-y-6",children:(0,a.jsxs)(M.Zb,{children:[(0,a.jsx)(M.Ol,{children:(0,a.jsxs)(M.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5 text-blue-500"}),"ประวัติการบริจาค (",I.donationHistory.length,")"]})}),(0,a.jsx)(M.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:I.donationHistory.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(U.qE,{className:"w-10 h-10",children:(0,a.jsx)(U.Q5,{children:e.donor.charAt(0)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-gray-800",children:e.donor}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["money"===e.type&&e.amount&&(0,a.jsxs)("span",{className:"font-bold text-green-600",children:["฿",ek(e.amount)]}),"items"===e.type&&e.items&&(0,a.jsx)("span",{className:"font-bold text-blue-600",children:e.items}),"volunteer"===e.type&&e.volunteer&&(0,a.jsx)("span",{className:"font-bold text-purple-600",children:e.volunteer}),(0,a.jsx)(A.C,{className:eM(e.type),children:eT(e.type)})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:eZ(e.date)}),e.message&&(0,a.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',e.message,'"']})]})]},e.id))})})]})}),(0,a.jsx)(O.nU,{value:"updates",className:"space-y-6",children:I.updates.map(e=>(0,a.jsxs)(M.Zb,{children:[(0,a.jsx)(M.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(M.ll,{className:"text-lg",children:e.title}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:eZ(e.date)})]})}),(0,a.jsxs)(M.aY,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-gray-700",children:e.content}),e.images&&e.images.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e.images.map((s,t)=>(0,a.jsx)("img",{src:s||"/placeholder.svg",alt:"Update ".concat(e.id," - ").concat(t+1),className:"w-full h-48 object-cover rounded-lg"},t))})]})]},e.id))}),ev&&(0,a.jsxs)(O.nU,{value:"receipts",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)(M.Zb,{children:(0,a.jsxs)(M.aY,{className:"p-4 text-center",children:[(0,a.jsx)(z.Z,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["฿",new Intl.NumberFormat("th-TH").format(eR.totalAmount)]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"ยอดรวมที่ได้รับ"})]})}),(0,a.jsx)(M.Zb,{children:(0,a.jsxs)(M.aY,{className:"p-4 text-center",children:[(0,a.jsx)(D.Z,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-600",children:eR.totalReceipts}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"สลิปทั้งหมด"})]})}),(0,a.jsx)(M.Zb,{children:(0,a.jsxs)(M.aY,{className:"p-4 text-center",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"⏳"}),(0,a.jsx)("p",{className:"text-xl font-bold text-yellow-600",children:eR.pendingReceipts}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"รอดำเนินการ"})]})}),(0,a.jsx)(M.Zb,{children:(0,a.jsxs)(M.aY,{className:"p-4 text-center",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"✅"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-600",children:eR.completedReceipts}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"เสร็จสิ้น"})]})})]}),(0,a.jsx)(M.Zb,{children:(0,a.jsxs)(M.aY,{className:"p-6 text-center",children:[(0,a.jsx)(o.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"จัดการสลิปการรับเงิน"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"อัปโหลดและจัดการสลิปการรับเงินบริจาคเพื่อความโปร่งใสและการติดตาม"}),(0,a.jsxs)(T.z,{onClick:()=>eh(!0),className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),"อัปโหลดสลิปใหม่"]})]})}),eN.length>0&&(0,a.jsxs)(M.Zb,{children:[(0,a.jsx)(M.Ol,{children:(0,a.jsxs)(M.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-green-500"}),"สลิปล่าสุด (",eN.length,")"]})}),(0,a.jsxs)(M.aY,{children:[(0,a.jsx)("div",{className:"space-y-3",children:eN.slice(0,5).map(e=>{let s=P.X.generateReceiptSummary(e);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:shadow-sm transition-shadow cursor-pointer",onClick:()=>eA(e),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"money"===e.type?"\uD83D\uDCB0":"items"===e.type?"\uD83D\uDCE6":"\uD83D\uDC65"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.receiptNumber}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("th-TH")})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-bold text-lg",children:s.amount}),(0,a.jsx)(A.C,{className:"".concat(s.statusColor," border text-xs"),children:s.status})]})]},e.id)})}),eN.length>5&&(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)(T.z,{variant:"outline",onClick:()=>G.push("/organizer-dashboard?tab=receipts&request=".concat(B)),children:["ดูสลิปทั้งหมด (",eN.length,")"]})})]})]})]})]})]}),(0,a.jsx)(H.Z,{isOpen:et,onClose:()=>ea(!1),donation:{id:I.id.toString(),title:I.title,description:I.description,imageUrl:I.imageUrl,currentAmount:(null===(s=I.goals.money)||void 0===s?void 0:s.current)||0,goalAmount:(null===(t=I.goals.money)||void 0===t?void 0:t.target)||0,supporters:(null===(L=I.goals.money)||void 0===L?void 0:L.supporters)||0,organizer:I.organizer.name}}),(0,a.jsx)(Y.Z,{isOpen:el,onClose:()=>en(!1),donation:{id:I.id.toString(),title:I.title,paymentMethods:I.paymentMethods}}),(0,a.jsx)(E.Z,{isOpen:ec,onClose:()=>ed(!1),donation:{id:I.id,title:I.title,itemsNeeded:(null===(X=I.goals.items)||void 0===X?void 0:X.description)||"",contactPhone:I.contactPhone,address:I.address}}),(0,a.jsx)(V.Z,{isOpen:eo,onClose:()=>ex(!1),donation:{id:I.id,title:I.title,volunteerDescription:(null===($=I.goals.volunteer)||void 0===$?void 0:$.description)||"",contactPhone:I.contactPhone,address:I.address}}),(0,a.jsx)(F.Z,{isOpen:em,onClose:()=>eh(!1),requestId:I.id.toString(),requestTitle:I.title,onUploadComplete:()=>{ef()}}),(0,a.jsx)(Q.Z,{receipt:eu,isOpen:ep,onClose:()=>{eg(!1),ej(null)}})]})}},9322:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2735:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},804:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]])},8736:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1621:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},525:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7689:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}},function(e){e.O(0,[2582,3464,7514,2557,9783,1001,9735,7788,8017,4041,3183,2971,2117,1744],function(){return e(e.s=1559)}),_N_E=e.O()}]);