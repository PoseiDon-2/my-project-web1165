(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7207],{1208:function(e,s,t){Promise.resolve().then(t.bind(t,4826))},4826:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return V}});var a=t(7437),l=t(2265),n=t(5271),r=t(4738),c=t(6070),i=t(2869),d=t(5186),x=t(3647),o=t(5974),m=t(2759),u=t(8226),h=t(4794),j=t(5805),p=t(2208);function N(e){let{history:s,onViewDetails:t}=e,l=Math.min(s.totalAmount/1e5*100,100);return(0,a.jsxs)(c.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(c.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(c.ll,{className:"text-lg line-clamp-2 mb-2",children:s.requestTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["โดย ",s.organizerName||"ไม่ระบุ"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["อัปเดต ",new Date(s.updatedAt).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})]})]})]}),(0,a.jsx)(o.C,{className:"".concat((e=>{switch(e){case"active":return"bg-green-50 text-green-700 border-green-200";case"completed":return"bg-blue-50 text-blue-700 border-blue-200";case"cancelled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})(s.status)," border"),children:(e=>{switch(e){case"active":return"กำลังรับบริจาค";case"completed":return"เสร็จสิ้น";case"cancelled":return"ยกเลิก";default:return"ไม่ทราบสถานะ"}})(s.status)})]})}),(0,a.jsxs)(c.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"ความคืบหน้า"}),(0,a.jsxs)("span",{className:"font-medium",children:[l.toFixed(1),"%"]})]}),(0,a.jsx)(m.E,{value:l,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["฿",new Intl.NumberFormat("th-TH").format(s.totalAmount)]}),(0,a.jsxs)("span",{children:["เป้าหมาย ฿",new Intl.NumberFormat("th-TH").format(1e5)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-600",children:s.totalDonations})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"การบริจาค"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-lg font-bold text-blue-600",children:s.totalItems})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"สิ่งของ"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-purple-600"}),(0,a.jsx)("span",{className:"text-lg font-bold text-purple-600",children:s.totalVolunteers})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"อาสาสมัคร"})]})]}),s.recentDonations.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"การบริจาคล่าสุด"}),(0,a.jsxs)("div",{className:"space-y-1",children:[s.recentDonations.slice(0,3).map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["money"===e.type&&(0,a.jsx)(u.Z,{className:"w-3 h-3 text-green-600"}),"items"===e.type&&(0,a.jsx)(h.Z,{className:"w-3 h-3 text-blue-600"}),"volunteer"===e.type&&(0,a.jsx)(j.Z,{className:"w-3 h-3 text-purple-600"}),(0,a.jsx)("span",{className:"text-gray-600",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"})]}),(0,a.jsxs)("div",{className:"text-right",children:["money"===e.type&&(0,a.jsxs)("span",{className:"font-medium text-green-600",children:["฿",new Intl.NumberFormat("th-TH").format(e.amount||0)]}),"items"===e.type&&(0,a.jsxs)("span",{className:"font-medium text-blue-600",children:[(null===(t=e.items)||void 0===t?void 0:t.length)||1," รายการ"]}),"volunteer"===e.type&&(0,a.jsxs)("span",{className:"font-medium text-purple-600",children:[e.volunteerHours||0," ชม."]})]})]},e.id)}),s.recentDonations.length>3&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["และอีก ",s.recentDonations.length-3," รายการ"]})]})]}),(0,a.jsxs)(i.z,{variant:"outline",className:"w-full bg-transparent",onClick:()=>t(s),children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"ดูรายละเอียดทั้งหมด"]})]})]})}var f=t(6110),g=t(2339),b=t(1047),v=t(525),y=t(2735);function w(e){let{history:s,isOpen:t,onClose:l}=e;if(!s)return null;let r=e=>new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=e=>{switch(e){case"money":return(0,a.jsx)(u.Z,{className:"w-4 h-4 text-green-600"});case"items":return(0,a.jsx)(h.Z,{className:"w-4 h-4 text-blue-600"});case"volunteer":return(0,a.jsx)(j.Z,{className:"w-4 h-4 text-purple-600"})}},d=e=>n.X.generateReceiptSummary(e),x=Math.min(s.totalAmount/1e5*100,100),p=s.recentDonations.filter(e=>"money"===e.type),N=s.recentDonations.filter(e=>"items"===e.type),w=s.recentDonations.filter(e=>"volunteer"===e.type);return(0,a.jsx)(f.Vq,{open:t,onOpenChange:l,children:(0,a.jsxs)(f.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(f.fK,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f.$N,{className:"text-xl mb-2",children:s.requestTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["สร้างเมื่อ ",r(s.createdAt)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["อัปเดตล่าสุด ",r(s.updatedAt)]})]})]})]}),(0,a.jsx)(o.C,{className:"".concat((e=>{switch(e){case"active":return"bg-green-50 text-green-700 border-green-200";case"completed":return"bg-blue-50 text-blue-700 border-blue-200";case"cancelled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})(s.status)," border"),children:(e=>{switch(e){case"active":return"กำลังรับบริจาค";case"completed":return"เสร็จสิ้น";case"cancelled":return"ยกเลิก";default:return"ไม่ทราบสถานะ"}})(s.status)})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"ความคืบหน้าโครงการ"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[x.toFixed(1),"%"]})]}),(0,a.jsx)(m.E,{value:x,className:"h-3 mb-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["ได้รับแล้ว ฿",new Intl.NumberFormat("th-TH").format(s.totalAmount)]}),(0,a.jsxs)("span",{children:["เป้าหมาย ฿",new Intl.NumberFormat("th-TH").format(1e5)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,a.jsx)(u.Z,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.totalDonations}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:"การบริจาคเงิน"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,a.jsx)(h.Z,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.totalItems}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"สิ่งของ"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,a.jsx)(j.Z,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:s.totalVolunteers}),(0,a.jsx)("p",{className:"text-sm text-purple-700",children:"อาสาสมัคร"})]}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[(0,a.jsx)("span",{className:"text-3xl block mb-2",children:"\uD83D\uDCB0"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-yellow-600",children:["฿",new Intl.NumberFormat("th-TH").format(s.totalAmount)]}),(0,a.jsx)("p",{className:"text-sm text-yellow-700",children:"ยอดรวม"})]})]}),(0,a.jsxs)(g.mQ,{defaultValue:"all",className:"w-full",children:[(0,a.jsxs)(g.dr,{className:"grid w-full grid-cols-4",children:[(0,a.jsxs)(g.SP,{value:"all",children:["ทั้งหมด (",s.recentDonations.length,")"]}),(0,a.jsxs)(g.SP,{value:"money",children:["เงิน (",p.length,")"]}),(0,a.jsxs)(g.SP,{value:"items",children:["สิ่งของ (",N.length,")"]}),(0,a.jsxs)(g.SP,{value:"volunteer",children:["อาสาสมัคร (",w.length,")"]})]}),(0,a.jsx)(g.nU,{value:"all",className:"space-y-3",children:0===s.recentDonations.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการบริจาค"}):(0,a.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:s.recentDonations.map(e=>{let s=d(e);return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[c(e.type),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:r(e.createdAt)})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:s.amount}),(0,a.jsx)(o.C,{className:"".concat(s.statusColor," border-0 text-xs"),children:s.status})]})]},e.id)})})}),(0,a.jsx)(g.nU,{value:"money",className:"space-y-3",children:0===p.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการบริจาคเงิน"}):(0,a.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:p.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.paymentMethod," • ",r(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-bold text-green-600",children:["฿",new Intl.NumberFormat("th-TH").format(e.amount||0)]}),(0,a.jsxs)("p",{className:"text-xs text-green-600",children:["+",e.pointsEarned," คะแนน"]})]})]},e.id))})}),(0,a.jsx)(g.nU,{value:"items",className:"space-y-3",children:0===N.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการบริจาคสิ่งของ"}):(0,a.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:N.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["send-to-address"===e.deliveryMethod?"ส่งตามที่อยู่":"นำไปส่งถึงที่"," •"," ",r(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-blue-600",children:[(null===(s=e.items)||void 0===s?void 0:s.length)||1," รายการ"]}),(0,a.jsxs)("p",{className:"text-xs text-blue-600",children:["+",e.pointsEarned," คะแนน"]})]})]},e.id)})})}),(0,a.jsx)(g.nU,{value:"volunteer",className:"space-y-3",children:0===w.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"ยังไม่มีการสมัครอาสาสมัคร"}):(0,a.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:w.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.isAnonymous?"ผู้บริจาคไม่ประสงค์ออกนาม":e.donorName||"ไม่ระบุชื่อ"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[(null===(s=e.volunteerSkills)||void 0===s?void 0:s.join(", "))||"ไม่ระบุทักษะ"," • ",r(e.createdAt)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-purple-600",children:[e.volunteerHours||0," ชั่วโมง"]}),(0,a.jsxs)("p",{className:"text-xs text-purple-600",children:["+",e.pointsEarned," คะแนน"]})]})]},e.id)})})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,a.jsxs)(i.z,{onClick:()=>{alert("ฟีเจอร์ดาวน์โหลดรายงานจะเปิดใช้งานเร็วๆ นี้")},className:"flex-1",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"ดาวน์โหลดรายงาน"]}),(0,a.jsx)(i.z,{variant:"outline",onClick:l,children:"ปิด"})]})]})]})})}var D=t(2660),Z=t(6215),C=t(740),k=t(3247),A=t(9376);function V(){let[e,s]=(0,l.useState)([]),[t,o]=(0,l.useState)([]),[m,u]=(0,l.useState)(null),[h,j]=(0,l.useState)(!1),[p,f]=(0,l.useState)(""),[g,b]=(0,l.useState)("all"),[y,V]=(0,l.useState)("updated"),[S,T]=(0,l.useState)(!0),{user:z}=(0,r.a)(),H=(0,A.useRouter)();(0,l.useEffect)(()=>{E()},[]),(0,l.useEffect)(()=>{I()},[e,p,g,y]);let E=()=>{T(!0);try{let e=n.X.getAllDonationHistories();s(e)}catch(e){console.error("Error loading donation histories:",e)}finally{T(!1)}},I=()=>{let s=e;p&&(s=s.filter(e=>e.requestTitle.toLowerCase().includes(p.toLowerCase())||e.organizerName.toLowerCase().includes(p.toLowerCase()))),"all"!==g&&(s=s.filter(e=>e.status===g)),s.sort((e,s)=>{switch(y){case"updated":return new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime();case"created":return new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime();case"amount":return s.totalAmount-e.totalAmount;case"donations":return s.totalDonations-e.totalDonations;default:return 0}}),o(s)},P=e=>{u(e),j(!0)},Y=(()=>{let s=e.reduce((e,s)=>e+s.totalAmount,0),t=e.reduce((e,s)=>e+s.totalDonations,0),a=e.reduce((e,s)=>e+s.totalItems,0);return{totalAmount:s,totalDonations:t,totalItems:a,totalVolunteers:e.reduce((e,s)=>e+s.totalVolunteers,0),activeProjects:e.filter(e=>"active"===e.status).length,completedProjects:e.filter(e=>"completed"===e.status).length,totalProjects:e.length}})();return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)(i.z,{variant:"ghost",onClick:()=>H.back(),children:[(0,a.jsx)(D.Z,{className:"w-4 h-4 mr-2"}),"กลับ"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ประวัติการรับบริจาค"}),(0,a.jsx)("p",{className:"text-gray-600",children:"ติดตามความคืบหน้าและสถิติการรับบริจาคของโครงการต่างๆ"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-4 text-center",children:[(0,a.jsx)(Z.Z,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-600",children:Y.totalProjects}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"โครงการทั้งหมด"})]})}),(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-4 text-center",children:[(0,a.jsx)(v.Z,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-600",children:Y.activeProjects}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"กำลังดำเนินการ"})]})}),(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-4 text-center",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83D\uDCB0"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-yellow-600",children:["฿",new Intl.NumberFormat("th-TH").format(Y.totalAmount)]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"ยอดรวมทั้งหมด"})]})}),(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-4 text-center",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83C\uDF81"}),(0,a.jsx)("p",{className:"text-xl font-bold text-blue-600",children:Y.totalDonations}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"การบริจาคทั้งหมด"})]})}),(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-4 text-center",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83D\uDCE6"}),(0,a.jsx)("p",{className:"text-xl font-bold text-purple-600",children:Y.totalItems}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"สิ่งของ"})]})}),(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-4 text-center",children:[(0,a.jsx)("span",{className:"text-2xl block mb-2",children:"\uD83D\uDC65"}),(0,a.jsx)("p",{className:"text-xl font-bold text-orange-600",children:Y.totalVolunteers}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"อาสาสมัคร"})]})})]}),(0,a.jsxs)(c.Zb,{className:"mb-6",children:[(0,a.jsx)(c.Ol,{children:(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5"}),"ค้นหาและกรองข้อมูล"]})}),(0,a.jsx)(c.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)(d.I,{placeholder:"ค้นหาโครงการหรือผู้จัด...",value:p,onChange:e=>f(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(x.Ph,{value:g,onValueChange:b,children:[(0,a.jsx)(x.i4,{children:(0,a.jsx)(x.ki,{placeholder:"สถานะโครงการ"})}),(0,a.jsxs)(x.Bw,{children:[(0,a.jsx)(x.Ql,{value:"all",children:"ทั้งหมด"}),(0,a.jsx)(x.Ql,{value:"active",children:"กำลังรับบริจาค"}),(0,a.jsx)(x.Ql,{value:"completed",children:"เสร็จสิ้น"}),(0,a.jsx)(x.Ql,{value:"cancelled",children:"ยกเลิก"})]})]}),(0,a.jsxs)(x.Ph,{value:y,onValueChange:V,children:[(0,a.jsx)(x.i4,{children:(0,a.jsx)(x.ki,{placeholder:"เรียงตาม"})}),(0,a.jsxs)(x.Bw,{children:[(0,a.jsx)(x.Ql,{value:"updated",children:"อัปเดตล่าสุด"}),(0,a.jsx)(x.Ql,{value:"created",children:"วันที่สร้าง"}),(0,a.jsx)(x.Ql,{value:"amount",children:"ยอดเงิน"}),(0,a.jsx)(x.Ql,{value:"donations",children:"จำนวนการบริจาค"})]})]}),(0,a.jsx)(i.z,{variant:"outline",onClick:E,children:"รีเฟรช"})]})})]}),S?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"กำลังโหลดประวัติการรับบริจาค..."})]}):0===t.length?(0,a.jsx)(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-12 text-center",children:[(0,a.jsx)(Z.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ไม่พบประวัติการรับบริจาค"}),(0,a.jsx)("p",{className:"text-gray-600",children:0===e.length?"ยังไม่มีโครงการที่ได้รับการบริจาค":"ไม่พบโครงการที่ตรงกับเงื่อนไขการค้นหา"})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsx)(N,{history:e,onViewDetails:P},e.id))}),(0,a.jsx)(w,{history:m,isOpen:h,onClose:()=>{j(!1),u(null)}})]})})}},6110:function(e,s,t){"use strict";t.d(s,{$N:function(){return h},Be:function(){return j},Vq:function(){return i},cN:function(){return u},cZ:function(){return o},fK:function(){return m}});var a=t(7437),l=t(2265),n=t(9027),r=t(2489),c=t(4508);let i=n.fC;n.xz;let d=n.h_;n.x8;let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.aV,{ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});x.displayName=n.aV.displayName;let o=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(n.VY,{ref:s,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[l,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});o.displayName=n.VY.displayName;let m=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};m.displayName="DialogHeader";let u=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};u.displayName="DialogFooter";let h=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.Dx,{ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});h.displayName=n.Dx.displayName;let j=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.dk,{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",t),...l})});j.displayName=n.dk.displayName},2759:function(e,s,t){"use strict";t.d(s,{E:function(){return c}});var a=t(7437),l=t(2265),n=t(610),r=t(4508);let c=l.forwardRef((e,s)=>{let{className:t,value:l,...c}=e;return(0,a.jsx)(n.fC,{ref:s,className:(0,r.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...c,children:(0,a.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});c.displayName=n.fC.displayName},2339:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return i},mQ:function(){return c},nU:function(){return x}});var a=t(7437),l=t(2265),n=t(1312),r=t(4508);let c=n.fC,i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.aV,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});i.displayName=n.aV.displayName;let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.xz,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});d.displayName=n.xz.displayName;let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(n.VY,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});x.displayName=n.VY.displayName}},function(e){e.O(0,[2582,3464,7514,2557,9783,1056,9735,2971,2117,1744],function(){return e(e.s=1208)}),_N_E=e.O()}]);